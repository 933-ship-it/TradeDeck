const _0x50cf03=_0x4785;(function(_0x2a27e9,_0x3ed803){const _0x2c1452=_0x4785,_0x42a588=_0x2a27e9();while(!![]){try{const _0x52ae9d=-parseInt(_0x2c1452(0x153))/0x1*(parseInt(_0x2c1452(0xc2))/0x2)+parseInt(_0x2c1452(0x166))/0x3+-parseInt(_0x2c1452(0xd6))/0x4+parseInt(_0x2c1452(0x122))/0x5*(-parseInt(_0x2c1452(0x108))/0x6)+parseInt(_0x2c1452(0xe0))/0x7+parseInt(_0x2c1452(0x100))/0x8+parseInt(_0x2c1452(0xc0))/0x9;if(_0x52ae9d===_0x3ed803)break;else _0x42a588['push'](_0x42a588['shift']());}catch(_0x317e1e){_0x42a588['push'](_0x42a588['shift']());}}}(_0x5d72,0x55911));const _0x4830dc=_0x57d5;(function(_0x1f79a6,_0xcfc5b2){const _0x2c1a8b=_0x4785,_0x1af86b=_0x57d5,_0xc5e1c6=_0x1f79a6();while(!![]){try{const _0x57444a=-parseInt(_0x1af86b(0x147))/0x1*(-parseInt(_0x1af86b(0x130))/0x2)+-parseInt(_0x1af86b(0x14d))/0x3*(-parseInt(_0x1af86b(0x1a9))/0x4)+parseInt(_0x1af86b(0x1bd))/0x5*(parseInt(_0x1af86b(0x1cd))/0x6)+-parseInt(_0x1af86b(0x12d))/0x7+-parseInt(_0x1af86b(0x185))/0x8*(parseInt(_0x1af86b(0x1a8))/0x9)+-parseInt(_0x1af86b(0x1f4))/0xa+-parseInt(_0x1af86b(0x179))/0xb*(-parseInt(_0x1af86b(0x142))/0xc);if(_0x57444a===_0xcfc5b2)break;else _0xc5e1c6[_0x2c1a8b(0xd8)](_0xc5e1c6[_0x2c1a8b(0xee)]());}catch(_0x509a16){_0xc5e1c6[_0x2c1a8b(0xd8)](_0xc5e1c6[_0x2c1a8b(0xee)]());}}}(_0x636d,0x4dcab));import{initializeApp}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';import{getAuth,onAuthStateChanged,signOut,deleteUser}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';import{getFirestore,collection,doc,setDoc,getDoc,getDocs,addDoc,updateDoc,deleteDoc,query,where,orderBy,serverTimestamp,onSnapshot,runTransaction}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';const CLOUDINARY_CLOUD_NAME=_0x50cf03(0x152),CLOUDINARY_UPLOAD_PRESET=_0x4830dc(0x12a),SELL_FORM_KEY=_0x4830dc(0x129),LANDING_URL=_0x4830dc(0x154),firebaseConfig={'apiKey':_0x4830dc(0x141),'authDomain':_0x4830dc(0x1cc),'projectId':'tradedeck-82bbb','storageBucket':_0x4830dc(0x19e),'messagingSenderId':_0x4830dc(0x140),'appId':'1:755235931546:web:7e35364b0157cd7fc2a623','measurementId':_0x50cf03(0xc3)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),profilePic=document[_0x4830dc(0x1e3)](_0x4830dc(0x159)),dropdownMenu=document[_0x4830dc(0x1e3)](_0x4830dc(0x10d)),userEmail=document[_0x4830dc(0x1e3)](_0x4830dc(0x112)),authOverlay=document['getElementById'](_0x4830dc(0x105));let userGlobal=null;const tabs=document[_0x4830dc(0x1a6)](_0x50cf03(0xc5)),sections=document[_0x4830dc(0x1a6)](_0x4830dc(0x110)),startSellingBtn=document[_0x4830dc(0x1e3)](_0x4830dc(0x111)),sellLandingContent=document[_0x4830dc(0x1e3)](_0x4830dc(0x1eb)),productForm=document[_0x4830dc(0x1e3)](_0x4830dc(0x199)),formErrorSummary=document[_0x4830dc(0x1e3)](_0x4830dc(0x1be)),titleInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x1d1)),descriptionInput=document[_0x4830dc(0x1e3)]('description'),priceInput=document[_0x4830dc(0x1e3)](_0x50cf03(0xf6)),paypalEmailContainer=document['getElementById'](_0x4830dc(0x13a)),paypalEmailInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x1f5)),paypalEmailValidationMsg=document[_0x4830dc(0x1e3)](_0x50cf03(0xd3)),productFileUrlInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x191)),openPreviewImageWidgetBtn=document[_0x50cf03(0x136)](_0x4830dc(0x15a)),previewImageUrlInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x1bf)),previewImageStatus=document[_0x4830dc(0x1e3)](_0x4830dc(0x124)),previewImageContainer=document[_0x50cf03(0x136)](_0x4830dc(0x171)),currentPreviewImage=document[_0x50cf03(0x136)](_0x4830dc(0x1f8)),productUploadForm=document[_0x4830dc(0x1e3)](_0x4830dc(0x116)),submitProductBtn=document[_0x50cf03(0x136)](_0x4830dc(0x146)),searchBar=document[_0x4830dc(0x1e3)]('searchBar'),productListContainer=document[_0x4830dc(0x1e3)](_0x4830dc(0x160)),noProductsMessage=document[_0x4830dc(0x1e3)](_0x4830dc(0x1c9)),myProductsContainer=document[_0x4830dc(0x1e3)](_0x4830dc(0x14a)),noMyProductsMessage=document[_0x50cf03(0x136)](_0x4830dc(0x12f)),sellerBalance=document[_0x4830dc(0x1e3)](_0x4830dc(0x1e4)),productDetailsSection=document[_0x4830dc(0x1e3)](_0x4830dc(0x17d)),backToHomeBtn=document[_0x4830dc(0x1e3)](_0x4830dc(0x1e0)),detailProductImage=document[_0x4830dc(0x1e3)](_0x4830dc(0x133)),detailProductTitle=document[_0x4830dc(0x1e3)](_0x4830dc(0x1c5)),detailProductDescription=document[_0x50cf03(0x136)]('detailProductDescription'),detailProductPrice=document[_0x4830dc(0x1e3)](_0x50cf03(0x178)),detailActionButton=document[_0x4830dc(0x1e3)](_0x4830dc(0x117)),productDetailsError=document['getElementById'](_0x4830dc(0x13c)),paypalButtonContainer=document[_0x4830dc(0x1e3)](_0x50cf03(0x123)),editProductModal=document[_0x4830dc(0x1e3)](_0x4830dc(0x156)),editProductForm=document[_0x4830dc(0x1e3)](_0x4830dc(0x1c7)),editProductIdInput=document[_0x4830dc(0x1e3)](_0x50cf03(0xfd)),editTitleInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x1b5)),editDescriptionInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x18b)),editPriceInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x14f)),editFileUrlInput=document[_0x4830dc(0x1e3)](_0x4830dc(0x16a)),cancelEditBtn=document[_0x50cf03(0x136)](_0x50cf03(0xad));document[_0x4830dc(0x1a1)][_0x4830dc(0x122)][_0x4830dc(0x1fa)]=_0x4830dc(0x1ab),onAuthStateChanged(auth,_0x5acc1d=>{const _0xab65a9=_0x50cf03,_0x41d359=_0x4830dc;document[_0x41d359(0x1a1)][_0x41d359(0x122)][_0x41d359(0x1fa)]='',!_0x5acc1d?(authOverlay['style'][_0x41d359(0x173)]='flex',userGlobal=null):(authOverlay[_0xab65a9(0x16b)][_0x41d359(0x173)]=_0x41d359(0x19a),userGlobal=_0x5acc1d,showProfileUI(_0x5acc1d));});function _0x636d(){const _0x23f1bb=_0x50cf03,_0x5e756d=[_0x23f1bb(0xf8),_0x23f1bb(0x119),_0x23f1bb(0x125),_0x23f1bb(0xcb),_0x23f1bb(0x10a),_0x23f1bb(0x102),_0x23f1bb(0x130),_0x23f1bb(0x193),_0x23f1bb(0x13d),_0x23f1bb(0x17d),_0x23f1bb(0x172),'Failed\x20to\x20list\x20product.\x20Please\x20try\x20again.',_0x23f1bb(0x162),_0x23f1bb(0x158),'Payment\x20completed\x20by\x20',_0x23f1bb(0x11c),'productForm',_0x23f1bb(0xab),_0x23f1bb(0x10b),'\x22\x20target=\x22_blank\x22\x20class=\x22w-full\x20block\x20bg-green-600\x20hover:bg-green-700\x20text-white\x20text-center\x20py-3\x20rounded-xl\x20mt-2\x20font-semibold\x20transition\x22>Download\x20Product</a>',_0x23f1bb(0x11b),_0x23f1bb(0xce),_0x23f1bb(0x16e),_0x23f1bb(0x16c),_0x23f1bb(0x16f),_0x23f1bb(0xbf),_0x23f1bb(0x10c),_0x23f1bb(0x182),_0x23f1bb(0x19c),_0x23f1bb(0x12d),_0x23f1bb(0xde),'106533OdtuPS',_0x23f1bb(0xeb),_0x23f1bb(0x144),'hidden',_0x23f1bb(0x133),'interactive-card\x20border\x20border-transparent',_0x23f1bb(0x116),_0x23f1bb(0xe6),_0x23f1bb(0xe3),_0x23f1bb(0xd8),_0x23f1bb(0x143),_0x23f1bb(0x160),'opacity-50',_0x23f1bb(0x114),_0x23f1bb(0xed),_0x23f1bb(0x148),_0x23f1bb(0xf2),_0x23f1bb(0x101),'location',_0x23f1bb(0x11d),_0x23f1bb(0xcf),'6815gWeapE',_0x23f1bb(0x197),'previewImageUrl','name',_0x23f1bb(0x13c),_0x23f1bb(0x120),_0x23f1bb(0x131),_0x23f1bb(0xf5),_0x23f1bb(0x135),_0x23f1bb(0x195),'editProductForm',_0x23f1bb(0x198),'noProductsMessage',_0x23f1bb(0x168),_0x23f1bb(0x11e),_0x23f1bb(0x199),_0x23f1bb(0x165),_0x23f1bb(0xe1),_0x23f1bb(0x13f),_0x23f1bb(0x132),_0x23f1bb(0xb2),_0x23f1bb(0xfc),_0x23f1bb(0x157),'image',_0x23f1bb(0x173),_0x23f1bb(0xdc),'click',_0x23f1bb(0xbe),_0x23f1bb(0xae),_0x23f1bb(0xac),'send',_0x23f1bb(0x18f),_0x23f1bb(0xd0),_0x23f1bb(0xd7),'data',_0x23f1bb(0x187),_0x23f1bb(0xc6),_0x23f1bb(0x12a),_0x23f1bb(0x136),_0x23f1bb(0x180),_0x23f1bb(0x179),_0x23f1bb(0x13b),_0x23f1bb(0x146),_0x23f1bb(0x17f),_0x23f1bb(0x192),_0x23f1bb(0xb4),_0x23f1bb(0x175),_0x23f1bb(0x191),_0x23f1bb(0x10d),_0x23f1bb(0x145),_0x23f1bb(0x115),_0x23f1bb(0x12b),_0x23f1bb(0xd5),_0x23f1bb(0x112),_0x23f1bb(0x184),_0x23f1bb(0x134),_0x23f1bb(0xbb),'abort',_0x23f1bb(0x11a),_0x23f1bb(0x171),_0x23f1bb(0x183),_0x23f1bb(0x138),'Download\x20','onclick',_0x23f1bb(0x15a),'stopPropagation',_0x23f1bb(0x109),_0x23f1bb(0xb8),_0x23f1bb(0x14f),'exists',_0x23f1bb(0xe5),_0x23f1bb(0x188),'dropdownMenu',_0x23f1bb(0x19f),_0x23f1bb(0xda),_0x23f1bb(0x103),_0x23f1bb(0x12f),_0x23f1bb(0x18c),_0x23f1bb(0x127),_0x23f1bb(0x12c),_0x23f1bb(0x18a),_0x23f1bb(0x128),_0x23f1bb(0x163),'cursor-not-allowed',_0x23f1bb(0x177),_0x23f1bb(0xd9),_0x23f1bb(0x14c),_0x23f1bb(0x17b),_0x23f1bb(0xc9),_0x23f1bb(0x18b),_0x23f1bb(0x154),_0x23f1bb(0x18d),_0x23f1bb(0x161),_0x23f1bb(0x16b),'get','previewImageStatus',_0x23f1bb(0xcc),'toggle','aria-current',_0x23f1bb(0xc1),_0x23f1bb(0x11f),'TradeDeck\x20user\x20products','</ul>','#paypal-button-container',_0x23f1bb(0xec),_0x23f1bb(0xd1),_0x23f1bb(0x15d),_0x23f1bb(0x149),_0x23f1bb(0x13a),_0x23f1bb(0xe9),_0x23f1bb(0xe2),_0x23f1bb(0x169),'description',_0x23f1bb(0x17a),_0x23f1bb(0xea),_0x23f1bb(0x151),_0x23f1bb(0xf7),_0x23f1bb(0x12e),_0x23f1bb(0x16a),_0x23f1bb(0xfe),_0x23f1bb(0xfb),_0x23f1bb(0xca),'add',_0x23f1bb(0xb9),'AIzaSyA0RFkuXJjh7X43R6wWdQKrXtdUwVJ-4js',_0x23f1bb(0xaf),_0x23f1bb(0x141),'some',_0x23f1bb(0x19b),_0x23f1bb(0x107),_0x23f1bb(0x106),'paypal',_0x23f1bb(0xf1),'myProducts','dashboard',_0x23f1bb(0xc4),_0x23f1bb(0x105),_0x23f1bb(0xf6),'editPrice','open',_0x23f1bb(0xe8),_0x23f1bb(0x159),'docs',_0x23f1bb(0x129),'undefined',_0x23f1bb(0x170),'join',_0x23f1bb(0x14a),_0x23f1bb(0xb1),_0x23f1bb(0x19d),_0x23f1bb(0x174),_0x23f1bb(0x190),_0x23f1bb(0xf4),'create',_0x23f1bb(0x176),_0x23f1bb(0xe4),'Failed\x20to\x20list\x20product.\x20Please\x20check\x20console\x20for\x20details.\x20(Check\x20Firestore\x20rules!)',_0x23f1bb(0x155),_0x23f1bb(0x196),'toFixed','email',_0x23f1bb(0x14b),_0x23f1bb(0x113),_0x23f1bb(0x13e),'reset','editFileUrl',_0x23f1bb(0xf0),_0x23f1bb(0x18e),_0x23f1bb(0xd2),_0x23f1bb(0xb0),_0x23f1bb(0x139),_0x23f1bb(0x142),_0x23f1bb(0xdb),_0x23f1bb(0xdf),'display',_0x23f1bb(0x181),_0x23f1bb(0x167),_0x23f1bb(0x185),_0x23f1bb(0x19a),'setItem',_0x23f1bb(0x17c),_0x23f1bb(0xe7),'https://ui-avatars.com/api/?name=',_0x23f1bb(0x121),'productDetails','trim','status','\x22\x20alt=\x22','close',_0x23f1bb(0x124),'Error\x20loading\x20products.\x20Please\x20try\x20again.','Price\x20must\x20be\x20zero\x20or\x20a\x20positive\x20number.','104xRlFhp',_0x23f1bb(0xcd),'allProducts','email_address'];return _0x636d=function(){return _0x5e756d;},_0x636d();}function sendSaleEmail({buyerName:_0x4db997,buyerEmail:_0x1239ce,sellerPaypalEmail:_0x3d9676,productTitle:_0x359b84,amount:_0x617d17}){const _0x5a969b=_0x50cf03,_0x577cf7=_0x4830dc;emailjs[_0x577cf7(0x1db)](_0x577cf7(0x1dc),_0x577cf7(0x18c),{'buyer_name':_0x4db997,'buyer_email':_0x1239ce,'seller_paypal_email':_0x3d9676,'product_title':_0x359b84,'amount':_0x617d17})[_0x5a969b(0x137)](function(_0x4ac95a){const _0x4a082b=_0x577cf7;console[_0x4a082b(0x18e)](_0x4a082b(0x16e),_0x4ac95a[_0x4a082b(0x17f)],_0x4ac95a[_0x4a082b(0x13e)]);},function(_0x349b0f){const _0x3f16d4=_0x577cf7;console[_0x3f16d4(0x1f9)](_0x3f16d4(0x174),_0x349b0f);});}function showProfileUI(_0x47638a){const _0x1ace36=_0x50cf03,_0x3ec225=_0x4830dc;if(!_0x47638a)return;profilePic[_0x3ec225(0x1aa)]=_0x47638a[_0x3ec225(0x1a4)]||_0x3ec225(0x17b)+encodeURIComponent(_0x47638a[_0x3ec225(0x165)]||'U'),profilePic[_0x3ec225(0x1d6)][_0x1ace36(0x151)](_0x1ace36(0xfa)),userEmail[_0x3ec225(0x1d9)]=_0x47638a[_0x3ec225(0x165)]||_0x3ec225(0x1cf),profilePic['onclick']=function(_0x1fa4a0){const _0x1ea442=_0x3ec225;_0x1fa4a0[_0x1ea442(0x106)](),dropdownMenu[_0x1ea442(0x1d6)][_0x1ea442(0x126)](_0x1ea442(0x1ab));},document[_0x3ec225(0x109)](_0x1ace36(0x10f),_0x29d57c=>{const _0x37f67f=_0x3ec225;!profilePic[_0x37f67f(0x162)](_0x29d57c[_0x37f67f(0x172)])&&!dropdownMenu[_0x37f67f(0x162)](_0x29d57c[_0x37f67f(0x172)])&&dropdownMenu[_0x37f67f(0x1d6)][_0x37f67f(0x13f)](_0x37f67f(0x1ab));}),document[_0x3ec225(0x1e3)](_0x3ec225(0x13b))[_0x3ec225(0x104)]=async()=>{const _0x11c828=_0x1ace36,_0x4034a2=_0x3ec225;if(confirm(_0x11c828(0x140)))try{await deleteUser(_0x47638a),alert(_0x4034a2(0x1d0)),window[_0x4034a2(0x1ba)][_0x11c828(0xc7)]=LANDING_URL;}catch(_0x49ede6){_0x49ede6[_0x11c828(0x19e)]===_0x4034a2(0x1c6)?alert(_0x11c828(0xb3)):alert(_0x4034a2(0x139)+_0x49ede6['message']);}},document[_0x3ec225(0x1e3)](_0x3ec225(0x1e2))[_0x3ec225(0x104)]=()=>{signOut(auth);};}function showTab(_0x1f10b6){const _0x3be0ca=_0x50cf03,_0x3ab3cb=_0x4830dc;tabs[_0x3ab3cb(0x11c)](_0x3098a4=>{const _0x5bd5b0=_0x4785,_0x5abfce=_0x3ab3cb;_0x3098a4[_0x5abfce(0x1d6)][_0x5abfce(0x138)](_0x5abfce(0x16f)),_0x3098a4[_0x5bd5b0(0xde)](_0x5bd5b0(0x15e));});const _0x5a4b9d=document[_0x3ab3cb(0x175)]('a[data-tab=\x22'+_0x1f10b6+'\x22]');_0x5a4b9d&&(_0x5a4b9d['classList'][_0x3be0ca(0x15f)](_0x3be0ca(0x139)),_0x5a4b9d[_0x3ab3cb(0x176)](_0x3ab3cb(0x127),_0x3be0ca(0xb7))),sections[_0x3ab3cb(0x11c)](_0x64b5f3=>{const _0x2ad9a9=_0x3be0ca,_0x101436=_0x3ab3cb;if(_0x64b5f3['id']===_0x1f10b6)_0x64b5f3[_0x101436(0x1d6)][_0x101436(0x138)](_0x2ad9a9(0xfa));else _0x64b5f3[_0x101436(0x1d6)][_0x2ad9a9(0x15f)](_0x101436(0x1ab));});}tabs['forEach'](_0x52b7d8=>{const _0x5f1911=_0x50cf03,_0x3702c7=_0x4830dc;_0x52b7d8[_0x5f1911(0x14f)](_0x3702c7(0x1d7),async _0x3c241a=>{const _0x4d33fa=_0x5f1911,_0x59385a=_0x3702c7;_0x3c241a[_0x59385a(0x13d)]();const _0xd15c7f=_0x52b7d8[_0x4d33fa(0x10d)]('data-tab');showTab(_0xd15c7f),_0xd15c7f!==_0x59385a(0x134)&&!productForm[_0x59385a(0x1d6)][_0x59385a(0x162)](_0x59385a(0x1ab))&&toggleProductForm(![]),productDetailsSection[_0x4d33fa(0xdc)][_0x59385a(0x13f)](_0x59385a(0x1ab));if(_0xd15c7f===_0x59385a(0x151))await loadProducts(searchBar[_0x59385a(0x190)][_0x4d33fa(0xd4)]()),searchBar[_0x59385a(0x190)]='';else _0xd15c7f===_0x59385a(0x14b)&&await showDashboard();});}),backToHomeBtn[_0x4830dc(0x109)](_0x4830dc(0x1d7),()=>{const _0x261494=_0x4830dc;showTab(_0x261494(0x151)),loadProducts(searchBar[_0x261494(0x190)][_0x261494(0x17e)]());}),startSellingBtn[_0x4830dc(0x109)](_0x50cf03(0x10f),()=>{toggleProductForm(!![]);});function toggleProductForm(_0x343645){const _0x3439fd=_0x50cf03,_0x26a0af=_0x4830dc;_0x343645?(sellLandingContent[_0x26a0af(0x1d6)][_0x26a0af(0x13f)](_0x26a0af(0x1ab)),productForm[_0x26a0af(0x1d6)][_0x26a0af(0x138)](_0x26a0af(0x1ab)),showTab(_0x3439fd(0x169)),productUploadForm[_0x26a0af(0x169)](),restoreSellForm(),enableSubmitButton()):(sellLandingContent[_0x26a0af(0x1d6)][_0x26a0af(0x138)](_0x26a0af(0x1ab)),productForm[_0x3439fd(0xdc)][_0x26a0af(0x13f)](_0x26a0af(0x1ab)));}function saveSellForm(){const _0x54573c=_0x50cf03,_0x16eab4=_0x4830dc,_0x1ae7bc={'title':titleInput[_0x54573c(0x193)],'description':descriptionInput[_0x16eab4(0x190)],'price':priceInput[_0x16eab4(0x190)],'paypalEmail':paypalEmailInput[_0x16eab4(0x190)],'previewImageUrl':previewImageUrlInput[_0x16eab4(0x190)],'productFileUrl':productFileUrlInput[_0x16eab4(0x190)]};localStorage[_0x16eab4(0x178)](SELL_FORM_KEY,JSON[_0x16eab4(0x186)](_0x1ae7bc));}function restoreSellForm(){const _0x58c5ea=_0x50cf03,_0x4b1f40=_0x4830dc,_0x32f857=JSON[_0x58c5ea(0xb5)](localStorage[_0x4b1f40(0x1b2)](SELL_FORM_KEY)||'{}');titleInput[_0x58c5ea(0x193)]=_0x32f857[_0x4b1f40(0x1d1)]||'',descriptionInput['value']=_0x32f857[_0x4b1f40(0x135)]||'',priceInput[_0x4b1f40(0x190)]=_0x32f857['price']||'',paypalEmailInput[_0x4b1f40(0x190)]=_0x32f857[_0x58c5ea(0xbb)]||'',previewImageUrlInput['value']=_0x32f857[_0x4b1f40(0x1bf)]||'',productFileUrlInput[_0x4b1f40(0x190)]=_0x32f857[_0x58c5ea(0x189)]||'',_0x32f857[_0x4b1f40(0x1bf)]?(currentPreviewImage[_0x4b1f40(0x1aa)]=_0x32f857[_0x58c5ea(0x150)],previewImageContainer[_0x4b1f40(0x1d6)][_0x58c5ea(0x151)](_0x4b1f40(0x1ab))):(previewImageContainer[_0x4b1f40(0x1d6)][_0x4b1f40(0x13f)](_0x58c5ea(0xfa)),currentPreviewImage[_0x4b1f40(0x1aa)]='');const _0x315b04=parseFloat(_0x32f857[_0x58c5ea(0xf6)]);!isNaN(_0x315b04)&&_0x315b04>0x0?(paypalEmailContainer[_0x4b1f40(0x1d6)][_0x4b1f40(0x138)](_0x4b1f40(0x1ab)),paypalEmailInput[_0x4b1f40(0x176)](_0x4b1f40(0x1d3),_0x4b1f40(0x1d3))):(paypalEmailContainer[_0x4b1f40(0x1d6)][_0x4b1f40(0x13f)](_0x4b1f40(0x1ab)),paypalEmailInput[_0x4b1f40(0x1a7)](_0x4b1f40(0x1d3)));}[titleInput,descriptionInput,priceInput,paypalEmailInput,previewImageUrlInput,productFileUrlInput][_0x4830dc(0x11c)](_0x3c1dc9=>{const _0x522a8b=_0x4830dc;_0x3c1dc9[_0x522a8b(0x109)](_0x522a8b(0x189),saveSellForm);}),document[_0x4830dc(0x109)](_0x4830dc(0x11b),restoreSellForm);let isPreviewImageUploading=![];const previewImageWidget=window[_0x4830dc(0x132)][_0x4830dc(0x10f)]({'cloudName':CLOUDINARY_CLOUD_NAME,'uploadPreset':CLOUDINARY_UPLOAD_PRESET,'sources':[_0x4830dc(0x1d2)],'resourceType':_0x4830dc(0x1d4),'clientAllowedFormats':[_0x4830dc(0x1c2),_0x50cf03(0x118),_0x4830dc(0x1da),_0x4830dc(0x1d5),_0x4830dc(0x16c)],'maxFileSize':0xa*0x400*0x400,'multiple':![],'folder':_0x4830dc(0x1b6)},(_0x51d9c6,_0x340a30)=>{const _0x276bb2=_0x50cf03,_0x472786=_0x4830dc;if(!_0x51d9c6&&_0x340a30&&_0x340a30[_0x472786(0x1b3)]===_0x472786(0x198))previewImageUrlInput[_0x472786(0x190)]=_0x340a30[_0x472786(0x1cb)][_0x276bb2(0xba)],setFileInputStatus(previewImageStatus,'Image\x20uploaded:\x20'+_0x340a30[_0x472786(0x1cb)][_0x472786(0x1dd)]+'.'+_0x340a30[_0x472786(0x1cb)][_0x472786(0x193)],_0x276bb2(0x11c)),openPreviewImageWidgetBtn[_0x472786(0x1d6)][_0x472786(0x138)](_0x276bb2(0xea)),currentPreviewImage[_0x472786(0x1aa)]=_0x340a30[_0x472786(0x1cb)][_0x276bb2(0xba)],previewImageContainer[_0x472786(0x1d6)]['remove'](_0x472786(0x1ab)),isPreviewImageUploading=![],enableSubmitButton(),saveSellForm();else{if(_0x51d9c6)setFileInputStatus(previewImageStatus,_0x276bb2(0x14d),_0x472786(0x1f9)),previewImageUrlInput[_0x276bb2(0x193)]='',openPreviewImageWidgetBtn[_0x472786(0x1d6)][_0x472786(0x13f)](_0x472786(0x137)),previewImageContainer[_0x472786(0x1d6)][_0x472786(0x13f)](_0x472786(0x1ab)),currentPreviewImage[_0x276bb2(0x144)]='',isPreviewImageUploading=![],enableSubmitButton();else{if(_0x340a30&&(_0x340a30[_0x472786(0x1b3)]===_0x472786(0x181)||_0x340a30[_0x276bb2(0x160)]===_0x472786(0x1f6)))previewImageUrlInput[_0x472786(0x190)]===''&&(setFileInputStatus(previewImageStatus,_0x472786(0x19b),_0x472786(0x1f9)),openPreviewImageWidgetBtn[_0x472786(0x1d6)]['add'](_0x472786(0x137))),isPreviewImageUploading=![],enableSubmitButton();else _0x340a30&&_0x340a30[_0x472786(0x1b3)]===_0x472786(0x1e1)&&(setFileInputStatus(previewImageStatus,_0x276bb2(0xff)+(_0x340a30['info'][_0x472786(0x1dd)]||_0x472786(0x1d4))+_0x472786(0x1a2),_0x472786(0x15c)),isPreviewImageUploading=!![],disableSubmitButton());}}});openPreviewImageWidgetBtn['addEventListener'](_0x4830dc(0x1d7),()=>{const _0x5cbfcc=_0x4830dc;previewImageWidget[_0x5cbfcc(0x150)]();});function setFileInputStatus(_0x4f8bdb,_0x512e25,_0x51d191=_0x4830dc(0x1ca)){const _0x1a54e3=_0x50cf03,_0x172aeb=_0x4830dc;_0x4f8bdb[_0x172aeb(0x1d9)]=_0x512e25,_0x4f8bdb['classList'][_0x172aeb(0x138)](_0x172aeb(0x198),_0x172aeb(0x1f9),_0x172aeb(0x15c));if(_0x51d191===_0x172aeb(0x198))_0x4f8bdb[_0x172aeb(0x1d6)][_0x172aeb(0x13f)](_0x172aeb(0x198));else{if(_0x51d191===_0x172aeb(0x1f9))_0x4f8bdb[_0x172aeb(0x1d6)][_0x172aeb(0x13f)](_0x172aeb(0x1f9));else{if(_0x51d191===_0x172aeb(0x15c))_0x4f8bdb[_0x172aeb(0x1d6)][_0x172aeb(0x13f)](_0x1a54e3(0x190));}}}function convertToGoogleDriveDirectDownload(_0x30f9f8){const _0x132963=_0x50cf03,_0x13e6d9=_0x4830dc;if(!_0x30f9f8)return _0x30f9f8;let _0x1ba930=_0x30f9f8;const _0x443e01=/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)\/(view|edit|preview)/,_0x1e8097=_0x30f9f8['match'](_0x443e01);if(_0x1e8097&&_0x1e8097[0x1]){const _0x5f28de=_0x1e8097[0x1];_0x1ba930=_0x132963(0x113)+_0x5f28de;}else{if(_0x30f9f8[_0x13e6d9(0x143)]('drive.google.com/open?id=')){const _0x4544b5=_0x30f9f8[_0x13e6d9(0x1a3)](/id=([a-zA-Z0-9_-]+)/);if(_0x4544b5&&_0x4544b5[0x1]){const _0x1dbcbe=_0x4544b5[0x1];_0x1ba930=_0x13e6d9(0x167)+_0x1dbcbe;}}}return _0x1ba930;}function validateSellForm(){const _0x1c8210=_0x50cf03,_0x3689c1=_0x4830dc;let _0x4daad7=[];if(!titleInput[_0x3689c1(0x190)][_0x1c8210(0xd4)]())_0x4daad7[_0x3689c1(0x1b1)](_0x3689c1(0x1c1));if(!descriptionInput[_0x3689c1(0x190)][_0x3689c1(0x17e)]())_0x4daad7[_0x1c8210(0xd8)](_0x3689c1(0x1b8));if(isNaN(parseFloat(priceInput['value']))||parseFloat(priceInput[_0x3689c1(0x190)])<0x0)_0x4daad7[_0x3689c1(0x1b1)](_0x3689c1(0x184));if(!productFileUrlInput[_0x1c8210(0x193)][_0x3689c1(0x17e)]()||!/^https?:\/\/.+\..+/[_0x3689c1(0x1f2)](productFileUrlInput[_0x3689c1(0x190)][_0x3689c1(0x17e)]()))_0x4daad7[_0x1c8210(0xd8)](_0x1c8210(0x126));if(!previewImageUrlInput[_0x3689c1(0x190)])_0x4daad7[_0x3689c1(0x1b1)](_0x3689c1(0x10c));if(!paypalEmailContainer[_0x3689c1(0x1d6)]['contains'](_0x3689c1(0x1ab))){const _0x21d73d=paypalEmailInput[_0x3689c1(0x190)][_0x3689c1(0x17e)]();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x3689c1(0x1f2)](_0x21d73d))_0x4daad7[_0x3689c1(0x1b1)](_0x3689c1(0x18a));}if(isPreviewImageUploading)_0x4daad7[_0x3689c1(0x1b1)]('Please\x20wait\x20for\x20the\x20image\x20upload\x20to\x20finish.');return _0x4daad7;}function showFormErrors(_0x1c25b5){const _0x33b62c=_0x50cf03,_0x2e8f14=_0x4830dc;if(!_0x1c25b5[_0x2e8f14(0x19d)]){formErrorSummary[_0x2e8f14(0x1d6)][_0x2e8f14(0x13f)](_0x2e8f14(0x1ab)),formErrorSummary[_0x2e8f14(0x1e7)]='';return;}formErrorSummary[_0x33b62c(0xdc)][_0x2e8f14(0x138)](_0x2e8f14(0x1ab)),formErrorSummary[_0x33b62c(0x146)]=_0x2e8f14(0x1c4)+_0x1c25b5[_0x2e8f14(0x1a5)](_0x28fe3f=>_0x2e8f14(0x18f)+_0x28fe3f+_0x2e8f14(0x107))['join']('')+_0x2e8f14(0x12b);}function enableSubmitButton(){const _0x175739=_0x50cf03,_0x150844=_0x4830dc,_0x1a38a2=validateSellForm();showFormErrors(_0x1a38a2),_0x1a38a2[_0x175739(0x11b)]?(submitProductBtn[_0x150844(0x1b7)]=!![],submitProductBtn[_0x150844(0x1d6)][_0x150844(0x13f)](_0x150844(0x1b4),_0x175739(0x156))):(submitProductBtn[_0x150844(0x1b7)]=![],submitProductBtn[_0x150844(0x1d6)][_0x150844(0x138)](_0x150844(0x1b4),_0x150844(0x118)));}function disableSubmitButton(){const _0x24de7f=_0x50cf03,_0x5c32be=_0x4830dc;submitProductBtn[_0x24de7f(0x148)]=!![],submitProductBtn[_0x5c32be(0x1d6)]['add'](_0x5c32be(0x1b4),_0x5c32be(0x118));}[titleInput,descriptionInput,priceInput,paypalEmailInput,previewImageUrlInput,productFileUrlInput][_0x4830dc(0x11c)](_0x44a742=>{const _0x3cb1ad=_0x4830dc;_0x44a742[_0x3cb1ad(0x109)](_0x3cb1ad(0x189),enableSubmitButton);}),priceInput[_0x4830dc(0x109)](_0x4830dc(0x189),()=>{const _0x5b3169=_0x50cf03,_0x18e2c5=_0x4830dc,_0x1efdec=parseFloat(priceInput[_0x18e2c5(0x190)]);isNaN(_0x1efdec)||_0x1efdec===0x0?(paypalEmailContainer[_0x18e2c5(0x1d6)][_0x5b3169(0x15f)](_0x18e2c5(0x1ab)),paypalEmailInput[_0x18e2c5(0x1a7)](_0x18e2c5(0x1d3)),paypalEmailInput[_0x18e2c5(0x190)]=''):(paypalEmailContainer[_0x18e2c5(0x1d6)][_0x18e2c5(0x138)](_0x18e2c5(0x1ab)),paypalEmailInput[_0x18e2c5(0x176)](_0x18e2c5(0x1d3),_0x18e2c5(0x1d3))),enableSubmitButton(),saveSellForm();}),productUploadForm[_0x4830dc(0x109)](_0x4830dc(0x1ea),async _0x3c200e=>{const _0x34c81b=_0x50cf03,_0x50e086=_0x4830dc;_0x3c200e[_0x50e086(0x13d)](),disableSubmitButton(),submitProductBtn[_0x50e086(0x1d9)]=_0x50e086(0x10e);const _0x4f4d6d=validateSellForm();showFormErrors(_0x4f4d6d);if(_0x4f4d6d[_0x34c81b(0x11b)]){submitProductBtn[_0x50e086(0x1d9)]=_0x50e086(0x1c8),enableSubmitButton();return;}try{if(!auth[_0x50e086(0x196)]){alert(_0x50e086(0x1ce)),window[_0x34c81b(0x15c)][_0x34c81b(0x17e)]();return;}const _0x19e95e=convertToGoogleDriveDirectDownload(productFileUrlInput[_0x50e086(0x190)][_0x50e086(0x17e)]()),_0x508522={'title':titleInput[_0x50e086(0x190)][_0x50e086(0x17e)](),'description':descriptionInput[_0x34c81b(0x193)][_0x50e086(0x17e)](),'price':parseFloat(priceInput[_0x34c81b(0x193)]),'fileUrl':_0x19e95e,'previewImageUrl':previewImageUrlInput[_0x50e086(0x190)],'createdAt':serverTimestamp(),'sellerId':auth[_0x50e086(0x196)][_0x34c81b(0xd9)],'paypalEmail':paypalEmailInput[_0x50e086(0x190)][_0x50e086(0x17e)]()};await addDoc(collection(db,_0x34c81b(0x13b)),_0x508522),alert(_0x34c81b(0x147)),localStorage[_0x50e086(0x158)](SELL_FORM_KEY),toggleProductForm(![]),await loadProducts('');if(auth[_0x50e086(0x196)])await loadMyProducts(auth[_0x50e086(0x196)][_0x50e086(0x11a)]);}catch(_0x2eb3e2){showFormErrors([_0x50e086(0x194)]),console[_0x50e086(0x1f9)](_0x34c81b(0xbd),_0x2eb3e2),alert(_0x50e086(0x161));}finally{enableSubmitButton(),submitProductBtn[_0x50e086(0x1d9)]=_0x50e086(0x1c8);}});function _0x57d5(_0x16c719,_0x491c38){const _0x2a2622=_0x636d();return _0x57d5=function(_0x1b974d,_0x1cd3e7){_0x1b974d=_0x1b974d-0x104;let _0x166b26=_0x2a2622[_0x1b974d];return _0x166b26;},_0x57d5(_0x16c719,_0x491c38);}async function loadProducts(_0x2cd655=''){const _0x1f9e53=_0x50cf03,_0x5c6629=_0x4830dc;productListContainer['innerHTML']='',noProductsMessage[_0x5c6629(0x1d9)]=_0x5c6629(0x1e5),noProductsMessage[_0x5c6629(0x1d6)][_0x1f9e53(0x151)](_0x5c6629(0x1ab));try{const _0x372efb=query(collection(db,_0x5c6629(0x1e6)),orderBy(_0x5c6629(0x170),_0x5c6629(0x1e8))),_0x4742ab=await getDocs(_0x372efb),_0x23d281=_0x4742ab['docs'][_0x5c6629(0x1a5)](_0x3ed553=>({'id':_0x3ed553['id'],..._0x3ed553[_0x1f9e53(0xbc)]()}));window[_0x5c6629(0x187)]=_0x23d281;const _0x4bfa7a=_0x2cd655[_0x5c6629(0x152)](),_0x25ef57=_0x23d281[_0x1f9e53(0x191)](_0x23aa78=>(_0x23aa78[_0x5c6629(0x1d1)]||'')[_0x5c6629(0x152)]()[_0x5c6629(0x143)](_0x4bfa7a)||(_0x23aa78[_0x5c6629(0x135)]||'')[_0x5c6629(0x152)]()[_0x5c6629(0x143)](_0x4bfa7a));renderProducts(_0x25ef57,productListContainer,noProductsMessage,![]);}catch(_0x5856b9){console[_0x5c6629(0x1f9)](_0x5c6629(0x192),_0x5856b9),noProductsMessage[_0x1f9e53(0xae)]=_0x5c6629(0x183),noProductsMessage[_0x5c6629(0x1d6)][_0x5c6629(0x138)](_0x1f9e53(0xfa));}}searchBar[_0x50cf03(0x14f)](_0x4830dc(0x189),()=>{const _0x375bf6=_0x50cf03,_0x447cb2=_0x4830dc;if(!document[_0x447cb2(0x1e3)](_0x447cb2(0x151))[_0x447cb2(0x1d6)][_0x375bf6(0x155)](_0x447cb2(0x1ab))){const _0x4f9ca4=searchBar[_0x447cb2(0x190)][_0x447cb2(0x17e)]()[_0x447cb2(0x152)]();if(!window[_0x447cb2(0x187)])return;if(!_0x4f9ca4){renderProducts(window[_0x447cb2(0x187)],productListContainer,noProductsMessage,![]);return;}const _0x37155f=_0x4f9ca4[_0x447cb2(0x136)](/\s+/)[_0x447cb2(0x1ec)](Boolean),_0x2bf3d5=window[_0x447cb2(0x187)]['filter'](_0x44033b=>{const _0x2cbb8d=_0x375bf6,_0xf5e4da=_0x447cb2,_0x4e01c2=[_0x44033b[_0x2cbb8d(0xb2)]||'',_0x44033b[_0x2cbb8d(0x104)]||''][_0xf5e4da(0x157)]('\x20')[_0x2cbb8d(0x159)]();return _0x37155f[_0xf5e4da(0x144)](_0x56f45c=>_0x4e01c2[_0xf5e4da(0x143)](_0x56f45c));});_0x2bf3d5[_0x447cb2(0x19d)]>0x0?(renderProducts(_0x2bf3d5,productListContainer,noProductsMessage,![]),noProductsMessage[_0x447cb2(0x1d6)][_0x447cb2(0x13f)](_0x447cb2(0x1ab))):(productListContainer[_0x447cb2(0x1e7)]='',noProductsMessage[_0x447cb2(0x1d9)]=_0x447cb2(0x1ae),noProductsMessage[_0x447cb2(0x1d6)][_0x447cb2(0x138)](_0x375bf6(0xfa)));}});function _0x5d72(){const _0x23d18d=['value','toString','auth/requires-recent-login','sellerId','formErrorSummary','List\x20Product','tradedeck-82bbb.firebaseapp.com','https://via.placeholder.com/300x200?text=Product+Preview','Unknown','map','openPreviewImageWidget','code','Listing...','none','png','cancelEditBtn','textContent','12iMZsys','Sale\x20email\x20sent!','userProfilePic','title','Please\x20sign\x20out\x20and\x20sign\x20in\x20again,\x20then\x20try\x20deleting\x20your\x20account.','submit','parse','bg-white\x20rounded-lg\x20shadow\x20p-4\x20flex\x20flex-col\x20product-card\x20','page','Payment\x20could\x20not\x20be\x20completed.\x20Please\x20try\x20again.','755235931546','secure_url','paypalEmail','data','Error\x20adding\x20document\x20to\x20Firestore:','Error\x20loading\x20product\x20details.\x20Please\x20try\x20again.','...','5328891jJjtCo','<a\x20href=\x22','39142iaSwKf','G-4RXR7V9NCW','</h3>\x0a\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20text-sm\x20flex-grow\x20mb-2\x20overflow-hidden\x20overflow-ellipsis\x20whitespace-nowrap\x22>','aside\x20nav\x20a[data-tab]','asset_selected','href','Error\x20loading\x20product\x20details:','payer','text','template_4gvs2zf','\x22\x20target=\x22_blank\x22\x20download=\x22','stringify','tradedeck-82bbb.appspot.com','https://via.placeholder.com/600x400?text=Product+Preview','original_filename','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','balance','paypalEmailValidationMsg','trim','aria-label','1610948INVKYV','bg-green-600','push','uid','createUploadWidget','previewImageContainer','classList','Product\x20delisted\x20successfully!','removeAttribute','target','283185GXMONE','You\x20must\x20be\x20signed\x20in\x20to\x20list\x20a\x20product.','detailProductImage','set','productList','\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Error\x20removing\x20document:\x20','given_name','home','cloudinary','input-invalid','252kURDFL','3999744CvMYqr','tradedeck_product_previews','shift','onsubmit','Are\x20you\x20sure\x20you\x20want\x20to\x20permanently\x20delist\x20this\x20product?\x20This\x20action\x20cannot\x20be\x20undone.','fileUrl','Product\x20description\x20is\x20required.','appendChild','Error\x20delisting\x20product.\x20Please\x20try\x20again.\x20(Check\x20Firestore\x20rules\x20if\x20it\x20fails)','<ul>','price','Failed\x20to\x20delete\x20account:\x20','input','</p>','hidden','preventDefault','local','editProductId','productDetailsError','Uploading\x20','2897168mfcbfU','className','log','main\x20section','description','16983PLrIYr','4NmtNeJ','submitProductBtn','389820kwHLFZ','</li>','number','Preview\x20image\x20selection\x20cancelled\x20or\x20not\x20provided.','match','getAttribute','email_address','click','display','name','test','https://drive.google.com/uc?export=download&id=','editTitle','\x22\x20class=\x22px-3\x20py-1\x20bg-gray-600\x20text-white\x20rounded\x20hover:bg-gray-700\x20transition\x22>Download</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-product-id=\x22','No\x20products\x20found\x20for\x20your\x20search.\x20Try\x20different\x20keywords!','replace','jpeg','Valid\x20PayPal\x20email\x20is\x20required\x20for\x20paid\x20products.','div','length','success','balances','info','TradeDeckSellForm','jpg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-auto\x20flex\x20justify-end\x20items-center\x20pt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','20etCHuj','paypal-button-container','No\x20products\x20listed\x20on\x20the\x20dashboard.','editDescription','Valid\x20download\x20link\x20is\x20required.','order','productUploadForm','https://933-ship-it.github.io/TradeDeck.com/','signOutBtn','Product\x20not\x20found.','Download','querySelectorAll','paypalEmailContainer','startSellingBtn','<li>','Not\x20Provided','Account\x20deleted.','createElement','1370740oNzaCg','detailProductTitle','getElementById','then','visibility','bg-blue-100','Failed\x20to\x20update\x20product.','products','Product\x20title\x20is\x20required.','productFileUrlInput','No\x20products\x20found\x20matching\x20your\x20search.','(no\x20email)','Delete\x20your\x20account?\x20This\x20cannot\x20be\x20undone.','includes','createdAt','getItem','src','</p>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-auto\x20flex\x20justify-between\x20items-center\x20pt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-blue-600\x22>','innerHTML','Product\x20listed\x20successfully!','disabled','10832JsqCVU','removeItem','Free','DOMContentLoaded','Image\x20upload\x20failed.\x20Please\x20try\x20again.','Buttons','addEventListener','previewImageUrl','remove','desejdvif','21NxCAGm','hover:bg-green-700','contains','cursor-not-allowed','required','currentUser','toLowerCase','authOverlay','undefined','location','noMyProductsMessage','aria-current','add','event','$0.00','\x22\x20class=\x22delist-product-btn\x20px-3\x20py-1\x20bg-red-600\x20text-white\x20rounded\x20hover:bg-red-700\x20transition\x20ml-2\x22>Delist</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','detailActionButton','<p\x20class=\x22text-red-600\x22>PayPal\x20buttons\x20could\x20not\x20be\x20loaded.\x20Please\x20refresh.</p>','1464npWlfn','1288167cLprFr','querySelector','default','sell','deleteAccountBtn','style','.delist-product-btn','<p\x20class=\x22text-center\x20text-red-600\x22>Error\x20loading\x20your\x20products.<br>','isArray','body','editProductModal','currentPreviewImage','format','gif','message','sellLandingContent','render','_blank','detailProductPrice','Loading\x20products...','split','forEach','5171133vEWMvt','Error\x20loading\x20products:','reload','desc','sellerBalance','FAILED\x20to\x20send\x20sale\x20email.','photoURL','error','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setAttribute','capture','backToHomeBtn','Product\x20preview\x20image\x20is\x20required.','productFileUrl','w-full\x20py-3\x20rounded-xl\x20font-semibold\x20transition','Error\x20loading\x20user\x27s\x20products:','userEmail','text-white','svg','service_px8mdvo','loading','filter','data-product-id'];_0x5d72=function(){return _0x23d18d;};return _0x5d72();}function renderProducts(_0x324aa2,_0x157a09,_0x33e831,_0x117bb7=![]){const _0x56eb06=_0x50cf03,_0x479a39=_0x4830dc;_0x157a09[_0x479a39(0x1e7)]='',_0x33e831[_0x56eb06(0xdc)][_0x479a39(0x13f)](_0x479a39(0x1ab));if(!Array[_0x479a39(0x19f)](_0x324aa2)||_0x324aa2[_0x479a39(0x19d)]===0x0){_0x33e831[_0x56eb06(0xdc)]['remove'](_0x479a39(0x1ab)),_0x33e831[_0x56eb06(0xae)]=_0x117bb7?_0x479a39(0x182):_0x479a39(0x168);return;}_0x324aa2[_0x479a39(0x11c)](_0x3082f1=>{const _0x2569a2=_0x56eb06,_0x2fb0d3=_0x479a39,_0x18fe29=document[_0x2fb0d3(0x1ac)](_0x2fb0d3(0x1f7));_0x18fe29[_0x2fb0d3(0x1b9)]=_0x2569a2(0xb6)+(_0x117bb7?'':_0x2fb0d3(0x1ad)),_0x18fe29[_0x2fb0d3(0x176)]('data-product-id',_0x3082f1['id']);const _0x27f4d7=parseFloat(_0x3082f1[_0x2fb0d3(0x14e)])===0x0?_0x2fb0d3(0x166):'$'+parseFloat(_0x3082f1[_0x2569a2(0xf6)])[_0x2fb0d3(0x164)](0x2);let _0x55db03='';_0x117bb7&&(_0x55db03=_0x2fb0d3(0x17c)+_0x3082f1[_0x2fb0d3(0x149)]+_0x2fb0d3(0x125)+(_0x3082f1[_0x2569a2(0xb2)]||'')[_0x2569a2(0x117)](/\s/g,'-')+_0x2fb0d3(0x1ef)+_0x3082f1['id']+_0x2fb0d3(0x195)),(_0x18fe29[_0x2fb0d3(0x1e7)]=_0x2fb0d3(0x10b)+(_0x3082f1[_0x2569a2(0x150)]||_0x2fb0d3(0x177))+_0x2fb0d3(0x180)+_0x3082f1[_0x2569a2(0xb2)]+'\x20preview\x22\x20class=\x22rounded\x20mb-3\x20h-48\x20object-cover\x20w-full\x22/>\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22font-semibold\x20text-lg\x20mb-1\x22>'+_0x3082f1[_0x2fb0d3(0x1d1)]+_0x2fb0d3(0x14c)+_0x3082f1[_0x2fb0d3(0x135)]+_0x2fb0d3(0x1ee)+_0x27f4d7+_0x2fb0d3(0x12e)+_0x55db03+_0x2fb0d3(0x1f3),_0x157a09[_0x2569a2(0xf3)](_0x18fe29));if(_0x117bb7){const _0x3292f7=_0x18fe29[_0x2fb0d3(0x175)](_0x2fb0d3(0x1a0));_0x3292f7&&_0x3292f7[_0x2569a2(0x14f)](_0x2fb0d3(0x1d7),_0x484c50=>{const _0x14fe91=_0x2fb0d3;_0x484c50[_0x14fe91(0x106)]();const _0x32b94f=_0x3292f7[_0x14fe91(0x1ed)](_0x14fe91(0x1e9));if(_0x32b94f)deleteProduct(_0x32b94f);});}else _0x18fe29[_0x2569a2(0x14f)](_0x2569a2(0x10f),()=>{const _0x476150=_0x2fb0d3,_0x303b04=_0x18fe29[_0x476150(0x1ed)](_0x476150(0x1e9));if(_0x303b04)showProductDetails(_0x303b04);});});}async function deleteProduct(_0x4f91ed){const _0x23feb1=_0x50cf03,_0xfd5963=_0x4830dc;if(!confirm(_0xfd5963(0x16b)))return;try{await deleteDoc(doc(db,_0xfd5963(0x1e6),_0x4f91ed)),alert(_0x23feb1(0xdd)),await loadProducts(''),await showDashboard();}catch(_0x3790ff){console[_0x23feb1(0x183)](_0xfd5963(0x1af),_0x3790ff),alert(_0xfd5963(0x15d));}}async function showProductDetails(_0x2fe3c5){const _0x4f7e2a=_0x50cf03,_0x3d40f9=_0x4830dc;showTab(_0x3d40f9(0x17d)),productDetailsError[_0x4f7e2a(0xdc)][_0x3d40f9(0x13f)](_0x3d40f9(0x1ab));try{const _0x31b716=await getDoc(doc(db,_0x3d40f9(0x1e6),_0x2fe3c5));if(!_0x31b716[_0x3d40f9(0x10a)]()){productDetailsError[_0x3d40f9(0x1d9)]=_0x3d40f9(0x1f0),productDetailsError[_0x3d40f9(0x1d6)][_0x3d40f9(0x138)](_0x3d40f9(0x1ab));return;}const _0xd5fed9={'id':_0x31b716['id'],..._0x31b716[_0x4f7e2a(0xbc)]()};detailProductImage[_0x3d40f9(0x1aa)]=_0xd5fed9[_0x3d40f9(0x1bf)]||_0x3d40f9(0x1bc),detailProductTitle[_0x4f7e2a(0xae)]=_0xd5fed9[_0x3d40f9(0x1d1)],detailProductDescription[_0x3d40f9(0x1d9)]=_0xd5fed9[_0x3d40f9(0x135)];const _0x35ce09=parseFloat(_0xd5fed9[_0x4f7e2a(0xf6)])===0x0?_0x3d40f9(0x166):'$'+parseFloat(_0xd5fed9[_0x3d40f9(0x14e)])[_0x3d40f9(0x164)](0x2);detailProductPrice[_0x3d40f9(0x1d9)]=_0x35ce09,detailActionButton[_0x3d40f9(0x1b9)]=_0x3d40f9(0x115),detailActionButton[_0x3d40f9(0x1b7)]=![],parseFloat(_0xd5fed9[_0x3d40f9(0x14e)])>0x0?(detailActionButton[_0x3d40f9(0x122)][_0x4f7e2a(0x110)]='none',paypalButtonContainer[_0x3d40f9(0x1e7)]='',typeof window[_0x3d40f9(0x148)]!==_0x4f7e2a(0x15b)&&window[_0x3d40f9(0x148)][_0x4f7e2a(0x14e)]?window[_0x3d40f9(0x148)]['Buttons']({'createOrder':function(_0x73f2f9,_0x34b909){const _0x674922=_0x4f7e2a,_0x128965=_0x3d40f9;return _0x34b909[_0x128965(0x113)][_0x128965(0x15e)]({'purchase_units':[{'amount':{'value':_0xd5fed9[_0x674922(0xf6)][_0x674922(0x194)]()},'description':_0xd5fed9[_0x128965(0x1d1)]}]});},'onApprove':async function(_0x43d5cb,_0x382794){const _0x37c6ae=_0x4f7e2a;return _0x382794[_0x37c6ae(0x127)][_0x37c6ae(0x186)]()['then'](async function(_0x1fb324){const _0x5e51d4=_0x37c6ae,_0x5e44bc=_0x57d5;alert(_0x5e44bc(0x197)+_0x1fb324[_0x5e51d4(0xc9)][_0x5e44bc(0x1c0)][_0x5e44bc(0x17a)]+'!'),paypalButtonContainer[_0x5e44bc(0x1e7)]=_0x5e44bc(0x128)+_0xd5fed9['fileUrl']+_0x5e44bc(0x19c),await handleProductPurchase(_0xd5fed9),sendSaleEmail({'buyerName':_0x1fb324[_0x5e51d4(0xc9)]&&_0x1fb324[_0x5e44bc(0x11d)][_0x5e51d4(0x111)]&&_0x1fb324[_0x5e44bc(0x11d)][_0x5e44bc(0x1c0)][_0x5e44bc(0x17a)]?_0x1fb324[_0x5e44bc(0x11d)][_0x5e44bc(0x1c0)][_0x5e51d4(0xe7)]:_0x5e44bc(0x145),'buyerEmail':_0x1fb324[_0x5e44bc(0x11d)]&&_0x1fb324['payer'][_0x5e44bc(0x188)]?_0x1fb324[_0x5e44bc(0x11d)][_0x5e51d4(0x10e)]:_0x5e44bc(0x145),'sellerPaypalEmail':_0xd5fed9[_0x5e44bc(0x1f5)]||_0x5e44bc(0x1c3),'productTitle':_0xd5fed9[_0x5e44bc(0x1d1)]||_0x5e44bc(0x145),'amount':typeof _0xd5fed9[_0x5e51d4(0xf6)]!==_0x5e44bc(0x155)?_0xd5fed9[_0x5e44bc(0x14e)]:_0x5e44bc(0x145)});});},'onError':function(_0x27f8f9){const _0xad6db2=_0x3d40f9;alert(_0xad6db2(0x108)),console[_0xad6db2(0x1f9)](_0x27f8f9);}})[_0x3d40f9(0x15f)](_0x3d40f9(0x12c)):paypalButtonContainer[_0x3d40f9(0x1e7)]=_0x4f7e2a(0x164)):(detailActionButton[_0x3d40f9(0x122)][_0x3d40f9(0x173)]='',paypalButtonContainer[_0x3d40f9(0x1e7)]='',detailActionButton[_0x3d40f9(0x1d9)]=_0x3d40f9(0x114),detailActionButton[_0x3d40f9(0x1d6)][_0x3d40f9(0x13f)](_0x3d40f9(0x1de),_0x3d40f9(0x11f),_0x3d40f9(0x120)),detailActionButton[_0x3d40f9(0x104)]=()=>{const _0xbab0a6=_0x4f7e2a,_0x567fda=_0x3d40f9;window[_0x567fda(0x150)](_0xd5fed9[_0xbab0a6(0xf1)],_0x567fda(0x119));},detailActionButton[_0x3d40f9(0x176)](_0x3d40f9(0x1f1),_0x3d40f9(0x1fb)+_0xd5fed9[_0x3d40f9(0x1d1)]));}catch(_0x43267d){console[_0x3d40f9(0x1f9)](_0x4f7e2a(0xc8),_0x43267d),productDetailsError[_0x4f7e2a(0xae)]=_0x3d40f9(0x1d8),productDetailsError[_0x4f7e2a(0xdc)][_0x3d40f9(0x138)](_0x3d40f9(0x1ab));}}async function updateSellerBalance(_0x2fd828){const _0x1392cf=_0x4830dc;try{const _0x263a9a=await getDoc(doc(db,_0x1392cf(0x1bb),_0x2fd828));let _0x3e63f1=0x0;_0x263a9a[_0x1392cf(0x10a)]()&&typeof _0x263a9a[_0x1392cf(0x1df)]()[_0x1392cf(0x16d)]===_0x1392cf(0x18d)&&(_0x3e63f1=_0x263a9a[_0x1392cf(0x1df)]()['balance']),sellerBalance[_0x1392cf(0x1d9)]='$'+_0x3e63f1[_0x1392cf(0x164)](0x2);}catch(_0x2ddb28){sellerBalance[_0x1392cf(0x1d9)]=_0x1392cf(0x121);}}let balanceUnsub=null;function watchSellerBalance(_0x41f495){const _0x180f12=_0x4830dc;if(balanceUnsub)balanceUnsub();balanceUnsub=onSnapshot(doc(db,_0x180f12(0x1bb),_0x41f495),_0x4b111d=>{const _0x44fa5e=_0x180f12;let _0xcf33d5=0x0;if(_0x4b111d[_0x44fa5e(0x10a)]()&&typeof _0x4b111d[_0x44fa5e(0x1df)]()[_0x44fa5e(0x16d)]===_0x44fa5e(0x18d))_0xcf33d5=_0x4b111d['data']()[_0x44fa5e(0x16d)];sellerBalance[_0x44fa5e(0x1d9)]='$'+_0xcf33d5[_0x44fa5e(0x164)](0x2);});}function _0x4785(_0x1b4946,_0x3a6e44){const _0x5d723d=_0x5d72();return _0x4785=function(_0x4785ad,_0x4f408b){_0x4785ad=_0x4785ad-0xab;let _0x12c715=_0x5d723d[_0x4785ad];return _0x12c715;},_0x4785(_0x1b4946,_0x3a6e44);}async function loadMyProducts(_0x402a3f){const _0x35a4e9=_0x50cf03,_0x95a99=_0x4830dc;myProductsContainer[_0x95a99(0x1e7)]='',noMyProductsMessage[_0x95a99(0x1d6)][_0x95a99(0x13f)](_0x95a99(0x1ab));try{const _0x2acbf3=query(collection(db,_0x95a99(0x1e6)),where(_0x95a99(0x163),'==',_0x402a3f)),_0x39b2ec=await getDocs(_0x2acbf3),_0x3a624d=_0x39b2ec[_0x95a99(0x153)][_0x95a99(0x1a5)](_0x99ce47=>({'id':_0x99ce47['id'],..._0x99ce47[_0x95a99(0x1df)]()}));if(_0x3a624d[_0x95a99(0x19d)]===0x0){noMyProductsMessage['classList'][_0x95a99(0x138)](_0x95a99(0x1ab));return;}renderProducts(_0x3a624d,myProductsContainer,noMyProductsMessage,!![]);}catch(_0x13d1fe){console['error'](_0x95a99(0x11e),_0x13d1fe),myProductsContainer[_0x95a99(0x1e7)]=_0x35a4e9(0x16d)+_0x13d1fe[_0x95a99(0x15b)]+_0x35a4e9(0xf9);}}function openEditProductModal(_0x19a8c5){const _0x5a8e29=_0x50cf03,_0xc79b36=_0x4830dc;editProductIdInput[_0xc79b36(0x190)]=_0x19a8c5['id'],editTitleInput[_0xc79b36(0x190)]=_0x19a8c5[_0x5a8e29(0xb2)],editDescriptionInput[_0xc79b36(0x190)]=_0x19a8c5['description'],editPriceInput[_0xc79b36(0x190)]=_0x19a8c5[_0xc79b36(0x14e)],editFileUrlInput[_0xc79b36(0x190)]=_0x19a8c5[_0xc79b36(0x149)],editProductModal[_0xc79b36(0x1d6)][_0xc79b36(0x138)](_0xc79b36(0x1ab));}function closeEditProductModal(){const _0x1f0d8a=_0x4830dc;editProductModal[_0x1f0d8a(0x1d6)][_0x1f0d8a(0x13f)](_0x1f0d8a(0x1ab));}editProductForm[_0x50cf03(0xef)]=async function(_0x56bc10){const _0x375c8e=_0x50cf03,_0x1339ad=_0x4830dc;_0x56bc10[_0x1339ad(0x13d)]();const _0x3c953e=editProductIdInput[_0x1339ad(0x190)],_0x3a8d89={'title':editTitleInput[_0x1339ad(0x190)][_0x1339ad(0x17e)](),'description':editDescriptionInput['value'][_0x375c8e(0xd4)](),'price':parseFloat(editPriceInput[_0x1339ad(0x190)]),'fileUrl':editFileUrlInput[_0x375c8e(0x193)][_0x1339ad(0x17e)]()};try{await updateDoc(doc(db,_0x375c8e(0x13b),_0x3c953e),_0x3a8d89),closeEditProductModal(),auth[_0x1339ad(0x196)]&&await loadMyProducts(auth[_0x1339ad(0x196)][_0x1339ad(0x11a)]);}catch(_0x156be7){alert(_0x1339ad(0x131));}},cancelEditBtn['onclick']=closeEditProductModal;async function showDashboard(){const _0x238a1b=_0x50cf03,_0x24d971=_0x4830dc;if(!auth[_0x238a1b(0x158)])return;showTab(_0x24d971(0x14b)),await updateSellerBalance(auth[_0x24d971(0x196)][_0x24d971(0x11a)]),watchSellerBalance(auth[_0x24d971(0x196)][_0x24d971(0x11a)]),await loadMyProducts(auth[_0x24d971(0x196)]['uid']);}async function incrementSellerBalance(_0x3dd2b4,_0x254453){const _0x2711e4=_0x4830dc,_0x315be1=doc(db,_0x2711e4(0x1bb),_0x3dd2b4);await runTransaction(db,async _0x4ee8d8=>{const _0x10a6cf=_0x2711e4,_0x9e184b=await _0x4ee8d8[_0x10a6cf(0x123)](_0x315be1);let _0x582761=_0x254453;_0x9e184b[_0x10a6cf(0x10a)]()&&typeof _0x9e184b[_0x10a6cf(0x1df)]()[_0x10a6cf(0x16d)]===_0x10a6cf(0x18d)&&(_0x582761+=_0x9e184b[_0x10a6cf(0x1df)]()[_0x10a6cf(0x16d)]),_0x4ee8d8[_0x10a6cf(0x1b0)](_0x315be1,{'balance':_0x582761},{'merge':!![]});});}async function handleProductPurchase(_0x2150c9){const _0x150e36=_0x4830dc;if(!_0x2150c9||!_0x2150c9[_0x150e36(0x163)]||!_0x2150c9[_0x150e36(0x14e)])return;await incrementSellerBalance(_0x2150c9[_0x150e36(0x163)],parseFloat(_0x2150c9[_0x150e36(0x14e)]));}loadProducts(),showTab(_0x4830dc(0x151)),enableSubmitButton();