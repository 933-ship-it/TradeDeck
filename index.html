<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' blob:
      https://cdn.tailwindcss.com
      https://cdn.jsdelivr.net
      https://www.paypal.com
      https://*.paypal.com
      https://www.paypalobjects.com
      https://apis.google.com
      https://widget.cloudinary.com
      https://upload-widget.cloudinary.com
      https://cdn.jsdelivr.net/npm/@emailjs/browser@4
      https://www.gstatic.com
      https://933-ship-it.github.io
      https://trade-deck-com.vercel.app;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    img-src 'self' data: blob:
      https://933-ship-it.github.io
      https://res.cloudinary.com
      https://lh3.googleusercontent.com
      https://www.google.com
      https://www.paypalobjects.com
      https://via.placeholder.com;
    font-src 'self' https://fonts.gstatic.com;
    connect-src 'self'
      https://*.paypal.com
      https://*.paypalobjects.com
      https://*.cloudinary.com
      https://api.emailjs.com
      https://933-ship-it.github.io
      https://www.googleapis.com
      https://identitytoolkit.googleapis.com
      https://firestore.googleapis.com
      https://securetoken.googleapis.com;
    frame-src 'self'
      https://www.paypal.com
      https://widget.cloudinary.com
      https://upload-widget.cloudinary.com;
    object-src 'none';
    base-uri 'self';
    form-action 'self';
  " />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TradeDeck - Digital Marketplace</title>
  <link rel="icon" type="image/png" href="assets/logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
  <script src="https://www.paypal.com/sdk/js?client-id=AbAmxidRUaYCqMND4GbNaw_9KBb6xEFlH1cLXoIwObQNjJtlgvJ0lSg7rvgVKGrqIQAWgmne6oAy0wFl&currency=USD"></script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    main section { transition: opacity 0.3s; }
    main section.hidden { opacity: 0; height: 0; overflow: hidden; position: absolute; pointer-events: none; visibility: hidden; }
    /* Enhanced product card styles */
    .product-card {
      transition: all 0.3s ease-in-out;
      border: 1px solid transparent; /* Subtle border for hover effect */
    }
    .product-card:hover {
      transform: translateY(-8px); /* More pronounced lift */
      box-shadow: 0 15px 25px rgba(0,0,0,0.15); /* Stronger shadow */
      border-color: #3b82f6; /* Blue border on hover */
    }
    .product-card img {
      filter: brightness(0.95); /* Slightly dim images for better text contrast */
      transition: filter 0.3s ease-in-out;
    }
    .product-card:hover img {
      filter: brightness(1); /* Brighten on hover */
    }

    .input-invalid { border-color: #ef4444 !important; box-shadow: 0 0 0 1px #ef4444 !important; }
    .error-summary { background: #fee2e2; color: #b91c1c; padding: 0.75rem 1rem; border-radius: 0.5rem; margin-bottom: 1rem; }
    .interactive-card { cursor: pointer; }
    .interactive-card:hover { border-color: #60a5fa; }
    .success { color: #16a34a; }
    .error { color: #dc2626; }
    .loading { color: #fbbf24; }
    #editProductModal { z-index: 1000; }
    #initialPinModal, #pinEntryModal { z-index: 2000; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0;}

    /* New Category Card Styles */
    .category-card {
        transition: all 0.2s ease-in-out;
        border: 1px solid transparent;
    }
    .category-card:hover {
        transform: scale(1.03); /* Slight zoom on hover */
        box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        border-color: #8b5cf6; /* Purple border on hover */
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init({ publicKey: 'fmwYD8DAojsvufds2' });
    })();
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
  <div id="authOverlay" class="fixed inset-0 bg-white flex flex-col items-center justify-center z-50" style="display:none;">
    <div class="text-4xl font-extrabold text-blue-700 mb-6 animate-pulse">Welcome to TradeDeck!</div>
    <p class="text-xl text-gray-600 mb-8">Please sign in to unlock the full marketplace experience.</p>
    <a href="https://933-ship-it.github.io/TradeDeck-landing-page/" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 transform hover:scale-105">Go to Sign In / Register</a>
  </div>
  <div class="flex min-h-screen">
    <aside class="w-72 bg-white shadow-xl p-8 flex flex-col border-r border-gray-100" aria-label="Sidebar navigation">
      <h1 class="text-3xl font-extrabold text-blue-700 mb-10 tracking-wide">TradeDeck</h1>
      <div id="profileDropdown" class="relative mb-8" style="min-height:64px;">
        <img id="userProfilePic" class="h-16 w-16 rounded-full cursor-pointer border-4 border-blue-500 shadow-md hidden" src="" alt="User Profile" />
        <div id="dropdownMenu" class="hidden absolute left-0 mt-3 w-56 bg-white rounded-xl shadow-2xl py-3 z-50 border border-gray-100 animate-fade-in">
          <div class="px-5 py-3 text-gray-700 text-sm font-medium border-b border-gray-100" id="userEmail"></div>
          <button id="deleteAccountBtn" class="w-full text-left px-5 py-3 text-red-600 hover:bg-red-50 hover:font-medium transition-colors duration-200">Delete Account</button>
          <button id="signOutBtn" class="w-full text-left px-5 py-3 text-gray-700 hover:bg-gray-100 hover:font-medium transition-colors duration-200">Sign Out</button>
        </div>
      </div>
      <nav class="space-y-4 flex-grow">
        <a href="#home" class="flex items-center py-3 px-5 rounded-xl text-gray-700 bg-blue-100 font-semibold hover:bg-blue-200 focus:outline-none focus:ring-4 focus:ring-blue-300 transition duration-200" data-tab="home" tabindex="0" aria-current="page">
            <svg class="w-5 h-5 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg>
            Home
        </a>
        <a href="#sell" class="flex items-center py-3 px-5 rounded-xl text-gray-700 hover:bg-gray-100 font-medium focus:outline-none focus:ring-4 focus:ring-blue-300 transition duration-200" data-tab="sell" tabindex="0">
            <svg class="w-5 h-5 mr-3 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM13 7a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2h-2a2 2 0 00-2 2v2zM13 15a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2a2 2 0 00-2 2v2z"></path></svg>
            Sell Your Product
        </a>
        <a href="#dashboard" class="flex items-center py-3 px-5 rounded-xl text-gray-700 hover:bg-gray-100 font-medium focus:outline-none focus:ring-4 focus:ring-blue-300 transition duration-200" data-tab="dashboard" tabindex="0">
            <svg class="w-5 h-5 mr-3 text-purple-600" fill="currentColor" viewBox="0 0 20 20"><path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path></svg>
            Dashboard
        </a>
      </nav>
      <div class="mt-auto pt-6 text-center text-xs text-gray-400">
        &copy; 2025 TradeDeck. All rights reserved.
      </div>
    </aside>
    <main class="flex-1 overflow-y-auto p-10 bg-gray-50" aria-live="polite">
      <section id="home" aria-label="Home Products">
        <div class="max-w-6xl mx-auto">
          <div class="mb-10 text-center">
            <h2 class="text-5xl font-extrabold text-gray-900 mb-4 leading-tight">Discover and Exchange Digital Gold.</h2>
            <p class="text-xl text-gray-600">Find the perfect digital assets or share your own creations with a global audience.</p>
          </div>

          <label for="searchBar" class="sr-only">Search products</label>
          <div class="relative mb-12">
            <input type="search" id="searchBar" aria-label="Search products" placeholder="Search for eBooks, software, templates, or more..." class="w-full px-6 py-4 pl-12 border border-gray-300 rounded-full shadow-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-lg" />
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>

          <div class="mb-12">
            <h3 class="text-3xl font-bold text-gray-900 mb-6 text-center">Explore Categories</h3>
            <div id="categoriesContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-purple-50">
                    <div class="text-4xl mb-3">📚</div>
                    <h4 class="font-semibold text-lg text-gray-800">E-Books</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-blue-50">
                    <div class="text-4xl mb-3">💻</div>
                    <h4 class="font-semibold text-lg text-gray-800">Software</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-green-50">
                    <div class="text-4xl mb-3">🎨</div>
                    <h4 class="font-semibold text-lg text-gray-800">Design Assets</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-yellow-50">
                    <div class="text-4xl mb-3">📝</div>
                    <h4 class="font-semibold text-lg text-gray-800">Templates</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-red-50">
                    <div class="text-4xl mb-3">💡</div>
                    <h4 class="font-semibold text-lg text-gray-800">Courses</h4>
                </div>
                 <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-indigo-50">
                    <div class="text-4xl mb-3">🎵</div>
                    <h4 class="font-semibold text-lg text-gray-800">Audio</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-pink-50">
                    <div class="text-4xl mb-3">📸</div>
                    <h4 class="font-semibold text-lg text-gray-800">Photography</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-teal-50">
                    <div class="text-4xl mb-3">🎮</div>
                    <h4 class="font-semibold text-lg text-gray-800">Gaming</h4>
                </div>
                 <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-orange-50">
                    <div class="text-4xl mb-3">📊</div>
                    <h4 class="font-semibold text-lg text-gray-800">Data & Reports</h4>
                </div>
                <div class="category-card bg-white p-6 rounded-xl shadow-md text-center cursor-pointer hover:bg-gray-50">
                    <div class="text-4xl mb-3">🌐</div>
                    <h4 class="font-semibold text-lg text-gray-800">Other</h4>
                </div>
            </div>
          </div>


          <h3 class="text-3xl font-bold text-gray-900 mb-6 text-center">Latest Products</h3>
          <div id="productList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
            <p id="noProductsMessage" class="col-span-full text-center text-gray-500 hidden">Loading products...</p>
          </div>
        </div>
      </section>
      <section id="productDetails" class="hidden">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
          <button id="backToHomeBtn" class="mb-8 px-6 py-2 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition focus:outline-none focus:ring-2 focus:ring-gray-300 flex items-center" aria-label="Back to home">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Back to Home
          </button>
          <div id="productDetailsContent">
            <div class="flex flex-col md:flex-row gap-10">
              <div class="md:w-1/2 flex justify-center items-center">
                <img id="detailProductImage" src="" alt="Product image" class="w-full max-h-96 object-contain rounded-xl shadow-lg border border-gray-200" />
              </div>
              <div class="md:w-1/2 flex flex-col justify-between">
                <div>
                  <span id="detailProductCategory" class="text-sm font-semibold text-purple-600 bg-purple-100 px-3 py-1 rounded-full mb-2 inline-block"></span>
                  <h2 id="detailProductTitle" class="text-4xl font-extrabold text-gray-900 mb-3 leading-tight"></h2>
                  <p id="detailProductDescription" class="text-gray-700 mb-6 text-lg leading-relaxed"></p>
                  <p class="text-4xl font-extrabold text-blue-600 mb-8" id="detailProductPrice"></p>
                </div>
                <div class="mt-auto">
                  <button id="detailActionButton" class="w-full py-4 rounded-xl font-bold text-lg transition duration-300"></button>
                  <div id="paypal-button-container" class="mt-6"></div>
                </div>
              </div>
            </div>
          </div>
          <p id="productDetailsError" class="text-red-500 text-center mt-6 hidden text-lg">Product details could not be loaded.</p>
        </div>
      </section>
      <section id="sell" class="hidden">
        <div class="max-w-6xl mx-auto mt-16 px-4">
          <div id="sellLandingContent">
            <div class="text-center mb-16">
              <h2 class="text-5xl font-extrabold text-gray-900 mb-4 leading-tight">Turn Your Digital Assets Into Revenue</h2>
              <p class="text-xl text-gray-600 mb-10 max-w-2xl mx-auto">
                Whether it's eBooks, guides, software, templates, or creative packs—TradeDeck gives you the tools to sell to a global audience instantly.
              </p>
              <button id="startSellingBtn" class="bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white text-xl font-bold px-10 py-4 rounded-full shadow-lg transition duration-300 transform hover:scale-105">Start Selling Now</button>
            </div>
            <div class="mb-20">
              <h3 class="text-3xl font-semibold text-gray-900 mb-8 text-center">How It Works</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
                  <div class="text-blue-600 text-5xl mb-4">📁</div>
                  <h4 class="text-xl font-bold mb-3 text-gray-900">Upload Your Product</h4>
                  <p class="text-gray-600 text-base">PDFs, images, ZIPs, templates, code bundles, and more—just drag and drop your digital goods.</p>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
                  <div class="text-green-500 text-5xl mb-4">⚙️</div>
                  <h4 class="text-xl font-bold mb-3 text-gray-900">Categorize & Price</h4>
                  <p class="text-gray-600 text-base">Set your price, detailed description, captivating preview images, and choose the right category.</p>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
                  <div class="text-purple-500 text-5xl mb-4">💸</div>
                  <h4 class="text-xl font-bold mb-3 text-gray-900">Get Paid Securely</h4>
                  <p class="text-gray-600 text-base">Your sales are processed swiftly and paid directly to your connected PayPal account, no hidden fees.</p>
                </div>
              </div>
            </div>
          </div>
          <div id="productForm" class="bg-white p-8 rounded-2xl shadow-xl max-w-3xl mx-auto hidden border border-gray-100">
            <div id="formErrorSummary" class="error-summary hidden"></div>
            <h3 class="text-3xl font-bold text-gray-900 mb-8 text-center">List Your Digital Product</h3>
            <form id="productUploadForm" class="space-y-6" autocomplete="off">
              <div>
                <label for="title" class="block text-sm font-medium text-gray-700 mb-2">Product Title <span class="text-red-500">*</span></label>
                <input type="text" id="title" name="title" required maxlength="100" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg" placeholder="e.g., Ultimate eBook Template Pack" />
              </div>
              <div>
                <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Product Description <span class="text-red-500">*</span></label>
                <textarea id="description" name="description" rows="5" required maxlength="1000" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg" placeholder="Describe your product in detail..."></textarea>
              </div>
              <div>
                <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Category <span class="text-red-500">*</span></label>
                <select id="category" name="category" required class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg bg-white">
                  <option value="">Select a category</option>
                  <option value="E-Books">E-Books</option>
                  <option value="Software">Software</option>
                  <option value="Design Assets">Design Assets</option>
                  <option value="Templates">Templates</option>
                  <option value="Courses">Courses</option>
                  <option value="Audio">Audio</option>
                  <option value="Photography">Photography</option>
                  <option value="Gaming">Gaming</option>
                  <option value="Data & Reports">Data & Reports</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div>
                <label for="price" class="block text-sm font-medium text-gray-700 mb-2">Price ($) <span class="text-red-500">*</span></label>
                <input type="number" id="price" name="price" min="0" step="0.01" required class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg" placeholder="e.g., 29.99 or 0 for free" />
              </div>
              <div id="paypalEmailContainer" class="hidden">
                <label for="paypalEmail" class="block text-sm font-medium text-gray-700 mb-2">PayPal Email <span class="text-red-500">*</span></label>
                <input type="email" id="paypalEmail" name="paypalEmail" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg" placeholder="yourname@example.com" />
                <p id="paypalEmailValidationMsg" class="text-red-500 text-sm mt-1"></p>
                <div class="bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800 p-4 mt-4 rounded-md" role="alert">
                  <p class="font-bold text-lg">⚠️ IMPORTANT: VALID PAYPAL EMAIL REQUIRED</p>
                  <details class="mt-2">
                    <summary class="cursor-pointer text-base">Why your PayPal email is crucial</summary>
                    <p class="text-sm mt-1">To ensure you receive your funds from sales, please use the primary email address linked to your verified PayPal account. Payments for your products will be sent directly to this email. If the email provided is invalid or not associated with a PayPal account, funds cannot be transferred to you.</p>
                  </details>
                </div>
              </div>
              <div>
                <label for="openPreviewImageWidget" class="block text-sm font-medium text-gray-700 mb-2">Product Preview Image (for marketplace display) <span class="text-red-500">*</span></label>
                <button type="button" id="openPreviewImageWidget" class="cloudinary-file-input w-full text-gray-700 py-3 px-4 rounded-lg border-2 border-dashed border-gray-300 text-base font-semibold bg-blue-50 text-blue-700 hover:bg-blue-100 transition duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-4 4 4 4-4V5h-2v5L9 4 5 7v8z" clip-rule="evenodd"></path></svg>
                    Upload Image
                </button>
                <input type="hidden" id="previewImageUrl" name="previewImageUrl">
                <p id="previewImageStatus" class="file-upload-status text-sm mt-2 text-gray-600"></p>
                <div id="previewImageContainer" class="mt-4 hidden text-center">
                  <img id="currentPreviewImage" src="" alt="Product preview" class="max-w-full h-48 object-contain rounded-md border border-gray-300 mx-auto shadow-sm" />
                </div>
              </div>
              <div>
                <label for="productFileUrlInput" class="block text-sm font-medium text-gray-700 mb-2">Digital Product File Link (Google Drive, Dropbox, etc.) <span class="text-red-500">*</span></label>
                <input type="url" id="productFileUrlInput" name="productFileUrl" required class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg" placeholder="Direct download link (Google Drive, Dropbox, etc.)" />
                <p class="text-sm text-gray-500 mt-1">Ensure this link is publicly accessible for download to buyers.</p>
              </div>
              <button type="submit" id="submitProductBtn" class="w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white py-4 rounded-xl font-bold text-xl shadow-md transition duration-300 transform hover:scale-105">List Product</button>
            </form>
          </div>
        </div>
      </section>
      <section id="dashboard" class="hidden">
        <div class="max-w-6xl mx-auto mt-16 px-4">
          <h2 class="text-4xl font-extrabold text-gray-900 mb-8">Your Sales Dashboard</h2>
          <div id="balanceCard" class="bg-gradient-to-r from-green-500 to-green-700 text-white rounded-2xl shadow-lg p-8 mb-10 flex flex-col items-start transform hover:scale-[1.01] transition-transform duration-300">
            <div class="text-xl mb-3 font-semibold">Your current balance:</div>
            <div id="sellerBalance" class="text-5xl font-extrabold mb-2">$0.00</div>
            <div class="text-sm opacity-90">This balance updates instantly after each successful sale.</div>
          </div>
          <div class="mb-8">
            <h3 class="text-3xl font-bold text-gray-900 mb-6">My Listed Products</h3>
            <div id="myProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            <p id="noMyProductsMessage" class="col-span-full text-center text-gray-500 hidden text-lg mt-8">You haven't listed any products yet. Start selling today!</p>
          </div>
        </div>
        <div id="editProductModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden" role="dialog" aria-modal="true" aria-labelledby="editProductModalTitle">
          <div class="bg-white p-8 rounded-2xl shadow-xl max-w-md w-full border border-gray-100">
            <h4 id="editProductModalTitle" class="text-2xl font-bold text-gray-900 mb-6 text-center">Edit Product Details</h4>
            <form id="editProductForm" class="space-y-5" autocomplete="off">
              <input type="hidden" id="editProductId" />
              <div>
                <label for="editTitle" class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                <input type="text" id="editTitle" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500" maxlength="80" />
              </div>
              <div>
                <label for="editDescription" class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                <textarea id="editDescription" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500" maxlength="1000"></textarea>
              </div>
              <div>
                <label for="editCategory" class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                <select id="editCategory" name="editCategory" required class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-lg bg-white">
                  <option value="">Select a category</option>
                  <option value="E-Books">E-Books</option>
                  <option value="Software">Software</option>
                  <option value="Design Assets">Design Assets</option>
                  <option value="Templates">Templates</option>
                  <option value="Courses">Courses</option>
                  <option value="Audio">Audio</option>
                  <option value="Photography">Photography</option>
                  <option value="Gaming">Gaming</option>
                  <option value="Data & Reports">Data & Reports</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div>
                <label for="editPrice" class="block text-sm font-medium text-gray-700 mb-2">Price ($)</label>
                <input type="number" min="0" step="0.01" id="editPrice" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500" />
              </div>
              <div>
                <label for="editFileUrl" class="block text-sm font-medium text-gray-700 mb-2">Product File Link</label>
                <input type="url" id="editFileUrl" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500" />
              </div>
              <div class="flex justify-end gap-3 pt-4">
                <button type="button" id="cancelEditBtn" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold transition duration-200">Cancel</button>
                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold transition duration-200">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="initialPinModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50">
      <div class="bg-white rounded-xl p-8 shadow-2xl max-w-sm w-full relative transform scale-95 opacity-0 animate-modal-in">
          <button id="closeInitialPinModalBtn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none">&times;</button>
          <h2 class="text-3xl font-extrabold mb-4 text-center text-blue-700">Your TradeDeck PIN</h2>
          <p class="text-gray-700 mb-6 text-center leading-relaxed">
              This is your unique 8-digit PIN for accessing certain features like selling. Please keep it absolutely safe!
              <br>
              <strong class="text-red-600">Write it down or save it securely. You will need it later.</strong>
          </p>
          <div class="bg-blue-50 border-l-4 border-blue-400 text-blue-800 p-5 mb-8 rounded-md" role="alert">
              <p class="font-extrabold text-center text-4xl tracking-widest" id="initialPinDisplay">--------</p>
          </div>
          <p class="text-sm text-gray-500 text-center mb-6">
              You will be prompted for this PIN whenever you try to access the 'Sell Your Product' tab or modify sensitive account settings.
          </p>
          <button class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl transition-colors duration-300 transform hover:scale-105" id="initialPinConfirmBtn">
              I have safely noted my PIN
          </button>
      </div>
  </div>

  <div id="pinEntryModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50">
      <div class="bg-white rounded-xl p-8 shadow-2xl max-w-sm w-full relative transform scale-95 opacity-0 animate-modal-in">
          <button id="closePinEntryModalBtn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none">&times;</button>
          <h2 class="text-3xl font-extrabold mb-4 text-center text-purple-700">Access Restricted</h2>
          <p class="text-gray-700 mb-6 text-center leading-relaxed">
              Please enter your 8-digit TradeDeck PIN to access the selling features and protect your account.
          </p>
          <form id="pinEntryForm" class="space-y-6">
              <div>
                  <label for="pinInput" class="block text-sm font-medium text-gray-700 mb-2">Your 8-Digit PIN</label>
                  <input type="password" id="pinInput" name="pin" maxlength="8" pattern="\d{8}" inputmode="numeric"
                         class="mt-1 block w-full px-5 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm text-center tracking-widest"
                         placeholder="● ● ● ● ● ● ● ●" required>
                  <p id="pinErrorMessage" class="text-red-600 text-sm mt-2 text-center"></p>
              </div>
              <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-xl transition-colors duration-300 transform hover:scale-105">
                  Verify PIN
              </button>
          </form>
      </div>
  </div>

  <script type="module" src="https://trade-deck-com.vercel.app/production-app.js"></script>
</body>
</html>
