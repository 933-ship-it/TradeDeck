const _0x1959ce=_0x3d9f;(function(_0x58af2c,_0x312968){const _0x508277=_0x3d9f,_0x346eb8=_0x58af2c();while(!![]){try{const _0x4766b9=parseInt(_0x508277(0x215))/0x1*(parseInt(_0x508277(0x1ed))/0x2)+-parseInt(_0x508277(0x287))/0x3*(-parseInt(_0x508277(0x212))/0x4)+-parseInt(_0x508277(0x1d9))/0x5*(parseInt(_0x508277(0x1e4))/0x6)+-parseInt(_0x508277(0x239))/0x7*(-parseInt(_0x508277(0x1c2))/0x8)+parseInt(_0x508277(0x29c))/0x9+-parseInt(_0x508277(0x227))/0xa+-parseInt(_0x508277(0x2bd))/0xb;if(_0x4766b9===_0x312968)break;else _0x346eb8['push'](_0x346eb8['shift']());}catch(_0x455f9b){_0x346eb8['push'](_0x346eb8['shift']());}}}(_0x59ea,0x5be1d));import{initializeApp}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';import{getAuth,onAuthStateChanged,signOut,deleteUser}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';import{getFirestore,collection,doc,setDoc,getDoc,getDocs,addDoc,updateDoc,deleteDoc,query,where,orderBy,serverTimestamp,onSnapshot,runTransaction}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';const CLOUDINARY_CLOUD_NAME=_0x1959ce(0x285),CLOUDINARY_UPLOAD_PRESET=_0x1959ce(0x280),SELL_FORM_KEY=_0x1959ce(0x1c8),LANDING_URL=_0x1959ce(0x1bc),PRODUCT_CATEGORIES=[_0x1959ce(0x2c1),'eBooks','Software',_0x1959ce(0x29f),'Graphics',_0x1959ce(0x29b),_0x1959ce(0x25d),'Courses','Photography',_0x1959ce(0x238)],THEME_STORAGE_KEY=_0x1959ce(0x1bf),firebaseConfig={'apiKey':_0x1959ce(0x24b),'authDomain':_0x1959ce(0x1b8),'projectId':_0x1959ce(0x1a4),'storageBucket':_0x1959ce(0x295),'messagingSenderId':_0x1959ce(0x2be),'appId':_0x1959ce(0x1a3),'measurementId':_0x1959ce(0x1ce)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),profilePic=document[_0x1959ce(0x1c4)](_0x1959ce(0x20c)),dropdownMenu=document[_0x1959ce(0x1c4)]('dropdownMenu'),userEmail=document[_0x1959ce(0x1c4)](_0x1959ce(0x2b5)),authOverlay=document[_0x1959ce(0x1c4)](_0x1959ce(0x1f2));let userGlobal=null;const tabs=document[_0x1959ce(0x1a5)](_0x1959ce(0x209)),sections=document[_0x1959ce(0x1a5)](_0x1959ce(0x256)),startSellingBtn=document[_0x1959ce(0x1c4)](_0x1959ce(0x268)),sellLandingContent=document[_0x1959ce(0x1c4)](_0x1959ce(0x21d)),productForm=document[_0x1959ce(0x1c4)](_0x1959ce(0x266)),formErrorSummary=document[_0x1959ce(0x1c4)]('formErrorSummary'),titleInput=document['getElementById']('title'),descriptionInput=document['getElementById'](_0x1959ce(0x246)),categorySelect=document[_0x1959ce(0x1c4)](_0x1959ce(0x291)),priceInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x2bb)),paypalEmailContainer=document[_0x1959ce(0x1c4)](_0x1959ce(0x260)),paypalEmailInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x2ac)),paypalEmailValidationMsg=document[_0x1959ce(0x1c4)](_0x1959ce(0x1dc)),productFileUrlInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x1bb)),openPreviewImageWidgetBtn=document[_0x1959ce(0x1c4)]('openPreviewImageWidget'),previewImageUrlInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x1be)),previewImageStatus=document['getElementById'](_0x1959ce(0x279)),previewImageContainer=document[_0x1959ce(0x1c4)](_0x1959ce(0x226)),currentPreviewImage=document[_0x1959ce(0x1c4)](_0x1959ce(0x1ea)),productUploadForm=document[_0x1959ce(0x1c4)](_0x1959ce(0x297)),submitProductBtn=document[_0x1959ce(0x1c4)]('submitProductBtn'),searchBar=document['getElementById']('searchBar'),productListContainer=document[_0x1959ce(0x1c4)](_0x1959ce(0x20a)),noProductsMessage=document['getElementById'](_0x1959ce(0x2a1)),categoryFilterButtons=document[_0x1959ce(0x1a5)](_0x1959ce(0x1ca));let currentCategoryFilter=_0x1959ce(0x2c1);const myProductsContainer=document[_0x1959ce(0x1c4)]('myProducts'),noMyProductsMessage=document[_0x1959ce(0x1c4)]('noMyProductsMessage'),sellerBalance=document[_0x1959ce(0x1c4)](_0x1959ce(0x264)),productDetailsSection=document[_0x1959ce(0x1c4)](_0x1959ce(0x204)),backToHomeBtn=document[_0x1959ce(0x1c4)](_0x1959ce(0x216)),detailProductImage=document[_0x1959ce(0x1c4)](_0x1959ce(0x1b6)),detailProductTitle=document[_0x1959ce(0x1c4)](_0x1959ce(0x1e0)),detailProductDescription=document[_0x1959ce(0x1c4)](_0x1959ce(0x1d1)),detailProductPrice=document['getElementById'](_0x1959ce(0x28d)),detailActionButton=document[_0x1959ce(0x1c4)](_0x1959ce(0x20b)),productDetailsError=document['getElementById'](_0x1959ce(0x240)),paypalButtonContainer=document[_0x1959ce(0x1c4)](_0x1959ce(0x1af)),editProductModal=document[_0x1959ce(0x1c4)](_0x1959ce(0x242)),editProductForm=document[_0x1959ce(0x1c4)]('editProductForm'),editProductIdInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x2ca)),editTitleInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x1d2)),editDescriptionInput=document[_0x1959ce(0x1c4)]('editDescription'),editPriceInput=document['getElementById'](_0x1959ce(0x2a2)),editFileUrlInput=document[_0x1959ce(0x1c4)](_0x1959ce(0x25a)),cancelEditBtn=document['getElementById'](_0x1959ce(0x1b0));document[_0x1959ce(0x1b7)][_0x1959ce(0x2b6)][_0x1959ce(0x241)]=_0x1959ce(0x24d),onAuthStateChanged(auth,_0x337139=>{const _0x2c1cec=_0x1959ce;document[_0x2c1cec(0x1b7)][_0x2c1cec(0x2b6)]['visibility']='',!_0x337139?(authOverlay[_0x2c1cec(0x2b6)][_0x2c1cec(0x1ad)]=_0x2c1cec(0x1f8),userGlobal=null):(authOverlay[_0x2c1cec(0x2b6)]['display']='none',userGlobal=_0x337139,showProfileUI(_0x337139));});function sendSaleEmail({buyerName:_0xac1edc,buyerEmail:_0x367b59,sellerPaypalEmail:_0x17dc39,productTitle:_0x52d365,amount:_0x389f66}){const _0x2a5e73=_0x1959ce;emailjs[_0x2a5e73(0x26d)](_0x2a5e73(0x1f1),_0x2a5e73(0x1f3),{'buyer_name':_0xac1edc,'buyer_email':_0x367b59,'seller_paypal_email':_0x17dc39,'product_title':_0x52d365,'amount':_0x389f66})[_0x2a5e73(0x1e1)](function(_0x2a14d9){const _0x37bf4f=_0x2a5e73;console[_0x37bf4f(0x1ff)]('Sale\x20email\x20sent!',_0x2a14d9[_0x37bf4f(0x233)],_0x2a14d9[_0x37bf4f(0x2cd)]);},function(_0x7a880b){const _0x5e6f7f=_0x2a5e73;console['error'](_0x5e6f7f(0x269),_0x7a880b);});}function showProfileUI(_0x33c5c3){const _0x2b460e=_0x1959ce;if(!_0x33c5c3)return;profilePic[_0x2b460e(0x23c)]=_0x33c5c3[_0x2b460e(0x243)]||_0x2b460e(0x28c)+encodeURIComponent(_0x33c5c3[_0x2b460e(0x2af)]||'U'),profilePic[_0x2b460e(0x229)][_0x2b460e(0x1e8)](_0x2b460e(0x24d)),userEmail[_0x2b460e(0x221)]=_0x33c5c3['email']||_0x2b460e(0x289),profilePic['onclick']=function(_0x1e4dd0){const _0x11a788=_0x2b460e;_0x1e4dd0['stopPropagation'](),dropdownMenu[_0x11a788(0x229)][_0x11a788(0x1db)](_0x11a788(0x24d));},document[_0x2b460e(0x26a)](_0x2b460e(0x2c3),_0x43cf74=>{const _0x49873f=_0x2b460e;!profilePic[_0x49873f(0x1fa)](_0x43cf74[_0x49873f(0x1c7)])&&!dropdownMenu[_0x49873f(0x1fa)](_0x43cf74[_0x49873f(0x1c7)])&&dropdownMenu[_0x49873f(0x229)][_0x49873f(0x2ba)](_0x49873f(0x24d));}),document[_0x2b460e(0x1c4)](_0x2b460e(0x23b))[_0x2b460e(0x232)]=async()=>{showCustomConfirm('Delete\x20your\x20account?\x20This\x20cannot\x20be\x20undone.',async()=>{const _0x1ab58c=_0x3d9f;try{await deleteUser(_0x33c5c3),showCustomAlert(_0x1ab58c(0x22d)),window[_0x1ab58c(0x207)][_0x1ab58c(0x298)]=LANDING_URL;}catch(_0x233312){_0x233312[_0x1ab58c(0x259)]==='auth/requires-recent-login'?showCustomAlert(_0x1ab58c(0x21e)):showCustomAlert('Failed\x20to\x20delete\x20account:\x20'+_0x233312['message']);}});},document['getElementById']('signOutBtn')[_0x2b460e(0x232)]=()=>{signOut(auth);};}function showCustomAlert(_0x9a5371){const _0x2d0d7f=_0x1959ce,_0x5b4d39=document[_0x2d0d7f(0x251)]('div');_0x5b4d39[_0x2d0d7f(0x2c6)]=_0x2d0d7f(0x244),_0x5b4d39['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20dark:bg-gray-800\x20p-6\x20rounded-lg\x20shadow-xl\x20max-w-sm\x20w-full\x20mx-4\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-4\x20text-gray-900\x20dark:text-gray-100\x22>'+_0x9a5371+_0x2d0d7f(0x23f),document['body'][_0x2d0d7f(0x1ee)](_0x5b4d39),document[_0x2d0d7f(0x1c4)]('customAlertOk')[_0x2d0d7f(0x232)]=()=>{const _0x15e58e=_0x2d0d7f;document[_0x15e58e(0x1b7)][_0x15e58e(0x1f0)](_0x5b4d39);};}function _0x59ea(){const _0x56993d=['aria-current','detailProductTitle','then','reload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20dark:bg-gray-800\x20p-6\x20rounded-lg\x20shadow-xl\x20max-w-sm\x20w-full\x20mx-4\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-4\x20text-gray-900\x20dark:text-gray-100\x22>','3785358SkwcMT','You\x20must\x20be\x20signed\x20in\x20to\x20list\x20a\x20product.','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20dark:text-gray-400\x20text-sm\x20mb-1\x22>Category:\x20','event','remove','customConfirmYes','currentPreviewImage','set','https://via.placeholder.com/300x200?text=Product+Preview','854614bTTjKs','appendChild','svg','removeChild','service_px8mdvo','authOverlay','template_4gvs2zf','Price\x20must\x20be\x20zero\x20or\x20a\x20positive\x20number.','title','Download\x20','order','flex','Error\x20loading\x20products:','contains','dark:text-gray-200','customConfirmNo','Error\x20removing\x20document:\x20','DOMContentLoaded','log','Please\x20select\x20a\x20category\x20for\x20your\x20product.','uid','dark:hover:bg-gray-700','Product\x20title\x20is\x20required.','productDetails','No\x20products\x20found\x20matching\x20your\x20search.','div','location','Failed\x20to\x20list\x20product.\x20Please\x20try\x20again.','aside\x20nav\x20a[data-tab]','productList','detailActionButton','userProfilePic','info','hover:bg-gray-200','Download','value','bg-blue-600','3372AdFoMX','dataset','allProducts','1XEEsoi','backToHomeBtn','asset_selected','desc','\x22\x20target=\x22_blank\x22\x20class=\x22w-full\x20block\x20bg-green-600\x20hover:bg-green-700\x20text-white\x20text-center\x20py-3\x20rounded-xl\x20mt-2\x20font-semibold\x20transition\x22>Download\x20Product</a>','split','https://drive.google.com/uc?export=download&id=','_blank','sellLandingContent','Please\x20sign\x20out\x20and\x20sign\x20in\x20again,\x20then\x20try\x20deleting\x20your\x20account.','N/A','Buttons','textContent','local','empty','a[data-tab=\x22','A\x20product\x20with\x20this\x20exact\x20download\x20link\x20already\x20exists.\x20Please\x20use\x20a\x20unique\x20link.','previewImageContainer','3507970BWJawm','fileUrl','classList','bg-gray-200','match','aria-label','Account\x20deleted\x20successfully!','paypal','jpeg','Free','setItem','onclick','status','image','<p\x20class=\x22text-center\x20text-red-600\x20dark:text-red-400\x22>Error\x20loading\x20your\x20products.<br>','replace','shadow-md','Other','35FYYSrs','find','deleteAccountBtn','src','querySelector','original_filename','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22customAlertOk\x22\x20class=\x22bg-blue-600\x20text-white\x20px-5\x20py-2\x20rounded-lg\x20hover:bg-blue-700\x20transition\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','productDetailsError','visibility','editProductModal','photoURL','fixed\x20inset-0\x20bg-gray-800\x20bg-opacity-75\x20flex\x20items-center\x20justify-center\x20z-50','<ul>','description','docs','Error\x20loading\x20product\x20details:','text-gray-700','w-full','AIzaSyA0RFkuXJjh7X43R6wWdQKrXtdUwVJ-4js','$0.00','hidden','A\x20product\x20with\x20this\x20exact\x20title\x20already\x20exists.\x20Please\x20choose\x20a\x20unique\x20title.','balances','toString','createElement','name','Valid\x20PayPal\x20email\x20is\x20required\x20for\x20paid\x20products.','page','Error\x20delisting\x20product.\x20Please\x20try\x20again.\x20(Check\x20Firestore\x20rules\x20if\x20it\x20fails)','main\x20section','cursor-not-allowed','Error\x20loading\x20product\x20details.\x20Please\x20try\x20again.','code','editFileUrl','error','create','Video','map','text-white','paypalEmailContainer','Payment\x20completed\x20by\x20','number','test','sellerBalance','bg-green-600','productForm','loading','startSellingBtn','FAILED\x20to\x20send\x20sale\x20email.','addEventListener','open','Product\x20preview\x20image\x20is\x20required.','send','toFixed','required','balance','bg-white\x20dark:bg-gray-800\x20rounded-lg\x20shadow\x20p-4\x20flex\x20flex-col\x20product-card\x20','search','close','object-contain','...','forEach','png','setAttribute','previewImageStatus','removeAttribute','Image\x20upload\x20failed.\x20Please\x20try\x20again.','sell','removeItem','tradedeck_product_previews','dark:text-white','TradeDeck\x20user\x20products','\x22\x20class=\x22delist-product-btn\x20px-3\x20py-1\x20bg-red-600\x20text-white\x20rounded\x20hover:bg-red-700\x20transition\x20ml-2\x22>Delist</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20permanently\x20delist\x20this\x20product?\x20This\x20action\x20cannot\x20be\x20undone.','given_name','products','desejdvif','undefined','1437zEKWmV','sellerId','(no\x20email)','get','includes','https://ui-avatars.com/api/?name=','detailProductPrice','gif','Uploading\x20','Product\x20description\x20is\x20required.','category','h-48','bg-blue-100','onsubmit','tradedeck-82bbb.appspot.com','secure_url','productUploadForm','href','Preview\x20image\x20selection\x20cancelled\x20or\x20not\x20provided.','No\x20products\x20listed\x20on\x20the\x20dashboard.','Audio','751554tYndsC','drive.google.com/open?id=','List\x20Product','Templates','Not\x20Provided','noProductsMessage','editPrice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-auto\x20flex\x20justify-end\x20items-center\x20pt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','input-invalid','opacity-50','createdAt','Product\x20listed\x20successfully!','format','?product=','<p\x20class=\x22text-red-600\x20dark:text-red-400\x22>PayPal\x20buttons\x20could\x20not\x20be\x20loaded.\x20Please\x20refresh.</p>','change','paypalEmail','.fas','https://via.placeholder.com/600x400?text=Product+Preview','email','.category-filter-btn[data-category=\x22All\x22]','input','jpg','Product\x20not\x20found.','innerHTML','userEmail','style','trim','preventDefault','#paypal-button-container','add','price','dark:bg-gray-700','2762056cscehh','755235931546','Payment\x20could\x20not\x20be\x20completed.\x20Please\x20try\x20again.','join','All','getItem','click','data-product-id','pathname','className','currentUser','hover:bg-green-700','home','editProductId','shadow-sm','payer','text','1:755235931546:web:7e35364b0157cd7fc2a623','tradedeck-82bbb','querySelectorAll','interactive-card\x20border\x20border-transparent\x20dark:border-gray-700','\x20preview\x22\x20class=\x22rounded\x20mb-3\x20h-48\x20object-cover\x20w-full\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22font-semibold\x20text-lg\x20mb-1\x20text-gray-900\x20dark:text-gray-100\x22>','abort','none','render','Loading\x20products...','push','display','exists','paypal-button-container','cancelEditBtn','dark:bg-blue-900','Image\x20uploaded:\x20','\x22\x20class=\x22px-3\x20py-1\x20bg-gray-600\x20dark:bg-gray-700\x20text-white\x20rounded\x20hover:bg-gray-700\x20dark:hover:bg-gray-600\x20transition\x22>Download</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-product-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20products\x20found\x20for\x20your\x20search.\x20Try\x20different\x20keywords!','detailProductImage','body','tradedeck-82bbb.firebaseapp.com','pushState','success','productFileUrlInput','https://933-ship-it.github.io/TradeDeck-landing-page/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20space-x-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22customConfirmYes\x22\x20class=\x22bg-red-600\x20text-white\x20px-5\x20py-2\x20rounded-lg\x20hover:bg-red-700\x20transition\x22>Yes</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22customConfirmNo\x22\x20class=\x22bg-gray-300\x20dark:bg-gray-700\x20text-gray-800\x20dark:text-gray-200\x20px-5\x20py-2\x20rounded-lg\x20hover:bg-gray-400\x20dark:hover:bg-gray-600\x20transition\x22>No</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','previewImageUrl','tradeDeckTheme','email_address','Another\x20active\x20product\x20already\x20has\x20this\x20title.\x20Please\x20choose\x20a\x20unique\x20title.','1111240OXzIYE','filter','getElementById','getAttribute','cloudinary','target','TradeDeckSellForm','w-full\x20py-3\x20rounded-xl\x20font-semibold\x20transition','.category-filter-btn','disabled','data','stopPropagation','G-4RXR7V9NCW','Listing...','<li>','detailProductDescription','editTitle','submit','Product\x20delisted\x20successfully!','toLowerCase','capture','text-blue-600','length','5SBEsIk','Error\x20loading\x20user\x27s\x20products:','toggle','paypalEmailValidationMsg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Unknown'];_0x59ea=function(){return _0x56993d;};return _0x59ea();}function showCustomConfirm(_0x37210f,_0x2699de){const _0x2ab527=_0x1959ce,_0x3d3685=document[_0x2ab527(0x251)]('div');_0x3d3685[_0x2ab527(0x2c6)]=_0x2ab527(0x244),_0x3d3685[_0x2ab527(0x2b4)]=_0x2ab527(0x1e3)+_0x37210f+_0x2ab527(0x1bd),document[_0x2ab527(0x1b7)][_0x2ab527(0x1ee)](_0x3d3685),document[_0x2ab527(0x1c4)](_0x2ab527(0x1e9))['onclick']=()=>{document['body']['removeChild'](_0x3d3685);if(_0x2699de)_0x2699de();},document[_0x2ab527(0x1c4)](_0x2ab527(0x1fc))[_0x2ab527(0x232)]=()=>{const _0x42f792=_0x2ab527;document['body'][_0x42f792(0x1f0)](_0x3d3685);};}function showTab(_0x589eb0){const _0x53c762=_0x1959ce;tabs[_0x53c762(0x276)](_0x12cb4a=>{const _0x4cd3e2=_0x53c762;_0x12cb4a[_0x4cd3e2(0x229)]['remove']('bg-blue-100',_0x4cd3e2(0x1b1),'dark:text-white'),_0x12cb4a[_0x4cd3e2(0x229)][_0x4cd3e2(0x2ba)](_0x4cd3e2(0x20e),'dark:hover:bg-gray-700',_0x4cd3e2(0x249),_0x4cd3e2(0x1fb)),_0x12cb4a[_0x4cd3e2(0x27a)](_0x4cd3e2(0x1df));const _0x14c46e=_0x12cb4a[_0x4cd3e2(0x23d)](_0x4cd3e2(0x2ad));if(_0x14c46e)_0x14c46e[_0x4cd3e2(0x229)]['remove'](_0x4cd3e2(0x1d7));});const _0x1df66a=document[_0x53c762(0x23d)](_0x53c762(0x224)+_0x589eb0+'\x22]');if(_0x1df66a){_0x1df66a[_0x53c762(0x229)][_0x53c762(0x2ba)](_0x53c762(0x293),_0x53c762(0x1b1),_0x53c762(0x27f)),_0x1df66a[_0x53c762(0x229)]['remove'](_0x53c762(0x20e),_0x53c762(0x202),_0x53c762(0x249),_0x53c762(0x1fb)),_0x1df66a[_0x53c762(0x278)](_0x53c762(0x1df),_0x53c762(0x254));const _0x407ef4=_0x1df66a[_0x53c762(0x23d)]('.fas');if(_0x407ef4)_0x407ef4[_0x53c762(0x229)]['add'](_0x53c762(0x1d7));}sections[_0x53c762(0x276)](_0x203a90=>{const _0x5c2ad9=_0x53c762;if(_0x203a90['id']===_0x589eb0)_0x203a90[_0x5c2ad9(0x229)]['remove']('hidden');else _0x203a90[_0x5c2ad9(0x229)]['add'](_0x5c2ad9(0x24d));});}tabs['forEach'](_0xf7da19=>{const _0x4bed4a=_0x1959ce;_0xf7da19[_0x4bed4a(0x26a)](_0x4bed4a(0x2c3),async _0x3af22d=>{const _0x4fed64=_0x4bed4a;_0x3af22d[_0x4fed64(0x2b8)]();const _0xe98ca5=_0xf7da19[_0x4fed64(0x1c5)]('data-tab');history[_0x4fed64(0x1b9)](null,'',window['location'][_0x4fed64(0x2c5)]),showTab(_0xe98ca5);_0xe98ca5!==_0x4fed64(0x27c)&&!productForm[_0x4fed64(0x229)][_0x4fed64(0x1fa)](_0x4fed64(0x24d))&&toggleProductForm(![]);productDetailsSection[_0x4fed64(0x229)]['add'](_0x4fed64(0x24d));if(_0xe98ca5===_0x4fed64(0x2c9))await loadProducts(searchBar['value'][_0x4fed64(0x2b7)](),currentCategoryFilter),searchBar[_0x4fed64(0x210)]='';else _0xe98ca5==='dashboard'&&await showDashboard();});}),backToHomeBtn['addEventListener']('click',()=>{const _0x2bb752=_0x1959ce;showTab(_0x2bb752(0x2c9)),loadProducts(searchBar[_0x2bb752(0x210)][_0x2bb752(0x2b7)](),currentCategoryFilter),history[_0x2bb752(0x1b9)](null,'',window[_0x2bb752(0x207)]['pathname']);}),startSellingBtn[_0x1959ce(0x26a)]('click',()=>{toggleProductForm(!![]);});function toggleProductForm(_0x593a19){const _0x14ae61=_0x1959ce;_0x593a19?(sellLandingContent[_0x14ae61(0x229)][_0x14ae61(0x2ba)](_0x14ae61(0x24d)),productForm['classList']['remove'](_0x14ae61(0x24d)),showTab(_0x14ae61(0x27c)),productUploadForm['reset'](),restoreSellForm(),enableSubmitButton()):(sellLandingContent[_0x14ae61(0x229)][_0x14ae61(0x1e8)](_0x14ae61(0x24d)),productForm['classList']['add'](_0x14ae61(0x24d)));}function saveSellForm(){const _0xa266f3=_0x1959ce,_0x526a3d={'title':titleInput[_0xa266f3(0x210)],'description':descriptionInput[_0xa266f3(0x210)],'category':categorySelect[_0xa266f3(0x210)],'price':priceInput[_0xa266f3(0x210)],'paypalEmail':paypalEmailInput[_0xa266f3(0x210)],'previewImageUrl':previewImageUrlInput[_0xa266f3(0x210)],'productFileUrl':productFileUrlInput[_0xa266f3(0x210)]};localStorage[_0xa266f3(0x231)](SELL_FORM_KEY,JSON['stringify'](_0x526a3d));}function restoreSellForm(){const _0x1c8888=_0x1959ce,_0x151359=JSON['parse'](localStorage[_0x1c8888(0x2c2)](SELL_FORM_KEY)||'{}');titleInput['value']=_0x151359[_0x1c8888(0x1f5)]||'',descriptionInput[_0x1c8888(0x210)]=_0x151359[_0x1c8888(0x246)]||'',categorySelect[_0x1c8888(0x210)]=_0x151359['category']||'',priceInput[_0x1c8888(0x210)]=_0x151359[_0x1c8888(0x2bb)]||'',paypalEmailInput['value']=_0x151359[_0x1c8888(0x2ac)]||'',previewImageUrlInput[_0x1c8888(0x210)]=_0x151359['previewImageUrl']||'',productFileUrlInput[_0x1c8888(0x210)]=_0x151359['productFileUrl']||'';_0x151359[_0x1c8888(0x1be)]?(currentPreviewImage[_0x1c8888(0x23c)]=_0x151359['previewImageUrl'],previewImageContainer[_0x1c8888(0x229)][_0x1c8888(0x1e8)](_0x1c8888(0x24d))):(previewImageContainer[_0x1c8888(0x229)][_0x1c8888(0x2ba)]('hidden'),currentPreviewImage['src']='');const _0x29466a=parseFloat(_0x151359[_0x1c8888(0x2bb)]);!isNaN(_0x29466a)&&_0x29466a>0x0?(paypalEmailContainer['classList']['remove'](_0x1c8888(0x24d)),paypalEmailInput['setAttribute'](_0x1c8888(0x26f),_0x1c8888(0x26f))):(paypalEmailContainer[_0x1c8888(0x229)][_0x1c8888(0x2ba)](_0x1c8888(0x24d)),paypalEmailInput['removeAttribute'](_0x1c8888(0x26f)));}[titleInput,descriptionInput,categorySelect,priceInput,paypalEmailInput,previewImageUrlInput,productFileUrlInput]['forEach'](_0x473067=>{const _0x5efc3e=_0x1959ce;_0x473067[_0x5efc3e(0x26a)]('input',saveSellForm),_0x473067[_0x5efc3e(0x26a)](_0x5efc3e(0x2ab),saveSellForm);}),document[_0x1959ce(0x26a)]('DOMContentLoaded',restoreSellForm);let isPreviewImageUploading=![];const previewImageWidget=window[_0x1959ce(0x1c6)]['createUploadWidget']({'cloudName':CLOUDINARY_CLOUD_NAME,'uploadPreset':CLOUDINARY_UPLOAD_PRESET,'sources':[_0x1959ce(0x222)],'resourceType':_0x1959ce(0x234),'clientAllowedFormats':[_0x1959ce(0x2b2),_0x1959ce(0x22f),_0x1959ce(0x277),_0x1959ce(0x28e),_0x1959ce(0x1ef)],'maxFileSize':0xa*0x400*0x400,'multiple':![],'folder':_0x1959ce(0x27e)},(_0x5851b6,_0x48369e)=>{const _0x2de3a0=_0x1959ce;if(!_0x5851b6&&_0x48369e&&_0x48369e[_0x2de3a0(0x1e7)]==='success')previewImageUrlInput[_0x2de3a0(0x210)]=_0x48369e[_0x2de3a0(0x20d)][_0x2de3a0(0x296)],setFileInputStatus(previewImageStatus,_0x2de3a0(0x1b2)+_0x48369e[_0x2de3a0(0x20d)][_0x2de3a0(0x23e)]+'.'+_0x48369e['info'][_0x2de3a0(0x2a8)],_0x2de3a0(0x1ba)),openPreviewImageWidgetBtn['classList']['remove'](_0x2de3a0(0x2a4)),currentPreviewImage['src']=_0x48369e[_0x2de3a0(0x20d)]['secure_url'],previewImageContainer[_0x2de3a0(0x229)][_0x2de3a0(0x1e8)](_0x2de3a0(0x24d)),isPreviewImageUploading=![],enableSubmitButton(),saveSellForm();else{if(_0x5851b6)setFileInputStatus(previewImageStatus,_0x2de3a0(0x27b),_0x2de3a0(0x25b)),previewImageUrlInput['value']='',openPreviewImageWidgetBtn[_0x2de3a0(0x229)]['add']('input-invalid'),previewImageContainer[_0x2de3a0(0x229)][_0x2de3a0(0x2ba)](_0x2de3a0(0x24d)),currentPreviewImage['src']='',isPreviewImageUploading=![],enableSubmitButton();else{if(_0x48369e&&(_0x48369e[_0x2de3a0(0x1e7)]===_0x2de3a0(0x273)||_0x48369e[_0x2de3a0(0x1e7)]===_0x2de3a0(0x1a8)))previewImageUrlInput[_0x2de3a0(0x210)]===''&&(setFileInputStatus(previewImageStatus,_0x2de3a0(0x299),'error'),openPreviewImageWidgetBtn['classList'][_0x2de3a0(0x2ba)](_0x2de3a0(0x2a4))),isPreviewImageUploading=![],enableSubmitButton();else _0x48369e&&_0x48369e[_0x2de3a0(0x1e7)]===_0x2de3a0(0x217)&&(setFileInputStatus(previewImageStatus,_0x2de3a0(0x28f)+(_0x48369e[_0x2de3a0(0x20d)]['original_filename']||_0x2de3a0(0x234))+_0x2de3a0(0x275),'loading'),isPreviewImageUploading=!![],disableSubmitButton());}}});openPreviewImageWidgetBtn[_0x1959ce(0x26a)]('click',()=>{const _0x44d913=_0x1959ce;previewImageWidget[_0x44d913(0x26b)]();});function setFileInputStatus(_0xb37cfa,_0x105fba,_0x1e60a4='default'){const _0x4a9680=_0x1959ce;_0xb37cfa[_0x4a9680(0x221)]=_0x105fba,_0xb37cfa[_0x4a9680(0x229)][_0x4a9680(0x1e8)](_0x4a9680(0x1ba),_0x4a9680(0x25b),'loading');if(_0x1e60a4===_0x4a9680(0x1ba))_0xb37cfa[_0x4a9680(0x229)][_0x4a9680(0x2ba)]('success');else{if(_0x1e60a4===_0x4a9680(0x25b))_0xb37cfa[_0x4a9680(0x229)]['add'](_0x4a9680(0x25b));else{if(_0x1e60a4===_0x4a9680(0x267))_0xb37cfa['classList'][_0x4a9680(0x2ba)](_0x4a9680(0x267));}}}function convertToGoogleDriveDirectDownload(_0x7211da){const _0x220877=_0x1959ce;if(!_0x7211da)return _0x7211da;let _0xef4e6f=_0x7211da;const _0x311ce9=/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)\/(view|edit|preview)/,_0x47021a=_0x7211da['match'](_0x311ce9);if(_0x47021a&&_0x47021a[0x1]){const _0xaa7b4b=_0x47021a[0x1];_0xef4e6f=_0x220877(0x21b)+_0xaa7b4b;}else{if(_0x7211da[_0x220877(0x28b)](_0x220877(0x29d))){const _0x3d85e1=_0x7211da[_0x220877(0x22b)](/id=([a-zA-Z0-9_-]+)/);if(_0x3d85e1&&_0x3d85e1[0x1]){const _0xfc3c30=_0x3d85e1[0x1];_0xef4e6f=_0x220877(0x21b)+_0xfc3c30;}}}return _0xef4e6f;}function validateSellForm(){const _0x3bfa79=_0x1959ce;let _0x1ddd05=[];if(!titleInput[_0x3bfa79(0x210)][_0x3bfa79(0x2b7)]())_0x1ddd05['push'](_0x3bfa79(0x203));if(!descriptionInput[_0x3bfa79(0x210)][_0x3bfa79(0x2b7)]())_0x1ddd05[_0x3bfa79(0x1ac)](_0x3bfa79(0x290));if(!categorySelect[_0x3bfa79(0x210)])_0x1ddd05[_0x3bfa79(0x1ac)](_0x3bfa79(0x200));if(isNaN(parseFloat(priceInput[_0x3bfa79(0x210)]))||parseFloat(priceInput[_0x3bfa79(0x210)])<0x0)_0x1ddd05['push'](_0x3bfa79(0x1f4));if(!productFileUrlInput['value'][_0x3bfa79(0x2b7)]()||!/^https?:\/\/.+\..+/[_0x3bfa79(0x263)](productFileUrlInput[_0x3bfa79(0x210)][_0x3bfa79(0x2b7)]()))_0x1ddd05[_0x3bfa79(0x1ac)]('Valid\x20download\x20link\x20is\x20required.');if(!previewImageUrlInput['value'])_0x1ddd05[_0x3bfa79(0x1ac)](_0x3bfa79(0x26c));if(!paypalEmailContainer[_0x3bfa79(0x229)][_0x3bfa79(0x1fa)](_0x3bfa79(0x24d))){const _0x56a655=paypalEmailInput[_0x3bfa79(0x210)]['trim']();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x3bfa79(0x263)](_0x56a655))_0x1ddd05[_0x3bfa79(0x1ac)](_0x3bfa79(0x253));}if(isPreviewImageUploading)_0x1ddd05[_0x3bfa79(0x1ac)]('Please\x20wait\x20for\x20the\x20image\x20upload\x20to\x20finish.');return _0x1ddd05;}function showFormErrors(_0x388d13){const _0x16e49e=_0x1959ce;if(!_0x388d13[_0x16e49e(0x1d8)]){formErrorSummary[_0x16e49e(0x229)][_0x16e49e(0x2ba)](_0x16e49e(0x24d)),formErrorSummary[_0x16e49e(0x2b4)]='';return;}formErrorSummary[_0x16e49e(0x229)][_0x16e49e(0x1e8)](_0x16e49e(0x24d)),formErrorSummary[_0x16e49e(0x2b4)]=_0x16e49e(0x245)+_0x388d13['map'](_0x200f0e=>_0x16e49e(0x1d0)+_0x200f0e+'</li>')['join']('')+'</ul>';}function enableSubmitButton(){const _0x5d81be=_0x1959ce,_0x169a4d=validateSellForm();showFormErrors(_0x169a4d),_0x169a4d[_0x5d81be(0x1d8)]?(submitProductBtn[_0x5d81be(0x1cb)]=!![],submitProductBtn[_0x5d81be(0x229)][_0x5d81be(0x2ba)](_0x5d81be(0x2a5),_0x5d81be(0x257))):(submitProductBtn[_0x5d81be(0x1cb)]=![],submitProductBtn['classList'][_0x5d81be(0x1e8)](_0x5d81be(0x2a5),_0x5d81be(0x257)));}function disableSubmitButton(){const _0x541342=_0x1959ce;submitProductBtn[_0x541342(0x1cb)]=!![],submitProductBtn[_0x541342(0x229)]['add'](_0x541342(0x2a5),_0x541342(0x257));}[titleInput,descriptionInput,categorySelect,priceInput,paypalEmailInput,previewImageUrlInput,productFileUrlInput][_0x1959ce(0x276)](_0x307a58=>{const _0x58c6ca=_0x1959ce;_0x307a58[_0x58c6ca(0x26a)](_0x58c6ca(0x2b1),enableSubmitButton),_0x307a58[_0x58c6ca(0x26a)](_0x58c6ca(0x2ab),enableSubmitButton);}),priceInput[_0x1959ce(0x26a)](_0x1959ce(0x2b1),()=>{const _0x1faf78=_0x1959ce,_0x42490c=parseFloat(priceInput[_0x1faf78(0x210)]);isNaN(_0x42490c)||_0x42490c===0x0?(paypalEmailContainer[_0x1faf78(0x229)][_0x1faf78(0x2ba)](_0x1faf78(0x24d)),paypalEmailInput[_0x1faf78(0x27a)](_0x1faf78(0x26f)),paypalEmailInput[_0x1faf78(0x210)]=''):(paypalEmailContainer[_0x1faf78(0x229)][_0x1faf78(0x1e8)](_0x1faf78(0x24d)),paypalEmailInput[_0x1faf78(0x278)](_0x1faf78(0x26f),'required')),enableSubmitButton(),saveSellForm();}),productUploadForm[_0x1959ce(0x26a)](_0x1959ce(0x1d3),async _0x597eaa=>{const _0x48344f=_0x1959ce;_0x597eaa['preventDefault'](),disableSubmitButton(),submitProductBtn[_0x48344f(0x221)]=_0x48344f(0x1cf);let _0x567425=validateSellForm();if(_0x567425['length']>0x0){showFormErrors(_0x567425),submitProductBtn['textContent']=_0x48344f(0x29e),enableSubmitButton();return;}try{if(!auth[_0x48344f(0x2c7)]){showCustomAlert(_0x48344f(0x1e5)),window[_0x48344f(0x207)][_0x48344f(0x1e2)]();return;}const _0x29ea82=titleInput[_0x48344f(0x210)][_0x48344f(0x2b7)]()[_0x48344f(0x1d5)](),_0x465687=convertToGoogleDriveDirectDownload(productFileUrlInput['value'][_0x48344f(0x2b7)]()),_0x70e279=collection(db,_0x48344f(0x284)),_0x269d8a=query(_0x70e279,where(_0x48344f(0x1f5),'==',_0x29ea82)),_0x18e073=await getDocs(_0x269d8a);let _0x4a17db=null;!_0x18e073['empty']&&(_0x4a17db=_0x18e073[_0x48344f(0x247)]['find'](_0x2728a4=>_0x2728a4['id']!==(editProductIdInput[_0x48344f(0x210)]||null)),_0x4a17db&&_0x567425[_0x48344f(0x1ac)](_0x48344f(0x24e)));const _0xc9e33=query(_0x70e279,where(_0x48344f(0x228),'==',_0x465687)),_0x5eae6f=await getDocs(_0xc9e33);let _0x10d80b=null;!_0x5eae6f[_0x48344f(0x223)]&&(_0x10d80b=_0x5eae6f['docs']['find'](_0x4e12b3=>_0x4e12b3['id']!==(editProductIdInput[_0x48344f(0x210)]||null)),_0x10d80b&&_0x567425[_0x48344f(0x1ac)](_0x48344f(0x225)));if(_0x567425[_0x48344f(0x1d8)]>0x0){showFormErrors(_0x567425),submitProductBtn[_0x48344f(0x221)]=_0x48344f(0x29e),enableSubmitButton();return;}const _0x39d633={'title':titleInput[_0x48344f(0x210)][_0x48344f(0x2b7)](),'description':descriptionInput[_0x48344f(0x210)]['trim'](),'category':categorySelect[_0x48344f(0x210)],'price':parseFloat(priceInput['value']),'fileUrl':_0x465687,'previewImageUrl':previewImageUrlInput[_0x48344f(0x210)],'createdAt':serverTimestamp(),'sellerId':auth[_0x48344f(0x2c7)]['uid'],'paypalEmail':paypalEmailInput[_0x48344f(0x210)][_0x48344f(0x2b7)]()};await addDoc(collection(db,'products'),_0x39d633),showCustomAlert(_0x48344f(0x2a7)),localStorage[_0x48344f(0x27d)](SELL_FORM_KEY),toggleProductForm(![]),await loadProducts('',currentCategoryFilter);if(auth[_0x48344f(0x2c7)])await loadMyProducts(auth[_0x48344f(0x2c7)][_0x48344f(0x201)]);}catch(_0x48404e){showFormErrors([_0x48344f(0x208)]),console[_0x48344f(0x25b)]('Error\x20adding\x20document\x20to\x20Firestore:',_0x48404e),showCustomAlert('Failed\x20to\x20list\x20product.\x20Please\x20check\x20console\x20for\x20details.\x20(Check\x20Firestore\x20rules!)');}finally{enableSubmitButton(),submitProductBtn[_0x48344f(0x221)]='List\x20Product';}});async function loadProducts(_0x480c56='',_0x5d9bda=_0x1959ce(0x2c1)){const _0xd114f1=_0x1959ce;productListContainer[_0xd114f1(0x2b4)]='',noProductsMessage[_0xd114f1(0x221)]=_0xd114f1(0x1ab),noProductsMessage[_0xd114f1(0x229)][_0xd114f1(0x1e8)](_0xd114f1(0x24d)),categoryFilterButtons[_0xd114f1(0x276)](_0x160762=>{const _0x396dcd=_0xd114f1;_0x160762[_0x396dcd(0x213)][_0x396dcd(0x291)]===_0x5d9bda?(_0x160762[_0x396dcd(0x229)][_0x396dcd(0x2ba)](_0x396dcd(0x211),_0x396dcd(0x25f),_0x396dcd(0x237)),_0x160762['classList']['remove']('bg-gray-200','dark:bg-gray-700',_0x396dcd(0x249),_0x396dcd(0x1fb),_0x396dcd(0x2cb))):(_0x160762[_0x396dcd(0x229)][_0x396dcd(0x1e8)](_0x396dcd(0x211),'text-white','shadow-md'),_0x160762[_0x396dcd(0x229)]['add']('bg-gray-200','dark:bg-gray-700',_0x396dcd(0x249),_0x396dcd(0x1fb),_0x396dcd(0x2cb)));});try{let _0x55bd0e=query(collection(db,_0xd114f1(0x284)),orderBy('createdAt',_0xd114f1(0x218)));_0x5d9bda!==_0xd114f1(0x2c1)&&(_0x55bd0e=query(collection(db,_0xd114f1(0x284)),where('category','==',_0x5d9bda),orderBy(_0xd114f1(0x2a6),_0xd114f1(0x218))));const _0x1ea89b=await getDocs(_0x55bd0e),_0x2837c9=_0x1ea89b[_0xd114f1(0x247)][_0xd114f1(0x25e)](_0x5163b3=>({'id':_0x5163b3['id'],..._0x5163b3[_0xd114f1(0x1cc)]()}));window[_0xd114f1(0x214)]=_0x2837c9;const _0xcd80f3=_0x480c56[_0xd114f1(0x1d5)](),_0x5c5ea1=_0x2837c9[_0xd114f1(0x1c3)](_0x451bc7=>(_0x451bc7[_0xd114f1(0x1f5)]||'')[_0xd114f1(0x1d5)]()[_0xd114f1(0x28b)](_0xcd80f3)||(_0x451bc7['description']||'')[_0xd114f1(0x1d5)]()['includes'](_0xcd80f3)||(_0x451bc7[_0xd114f1(0x291)]||'')[_0xd114f1(0x1d5)]()[_0xd114f1(0x28b)](_0xcd80f3));renderProducts(_0x5c5ea1,productListContainer,noProductsMessage,![]);}catch(_0x259c1d){console[_0xd114f1(0x25b)](_0xd114f1(0x1f9),_0x259c1d),noProductsMessage[_0xd114f1(0x221)]='Error\x20loading\x20products.\x20Please\x20try\x20again.',noProductsMessage[_0xd114f1(0x229)]['remove'](_0xd114f1(0x24d));}}categoryFilterButtons[_0x1959ce(0x276)](_0x3b49bb=>{const _0x2f9e26=_0x1959ce;_0x3b49bb[_0x2f9e26(0x26a)](_0x2f9e26(0x2c3),()=>{const _0x4d9f81=_0x2f9e26;currentCategoryFilter=_0x3b49bb[_0x4d9f81(0x213)][_0x4d9f81(0x291)],loadProducts(searchBar[_0x4d9f81(0x210)][_0x4d9f81(0x2b7)](),currentCategoryFilter);});}),searchBar[_0x1959ce(0x26a)](_0x1959ce(0x2b1),()=>{const _0x22fead=_0x1959ce;if(!document[_0x22fead(0x1c4)]('home')[_0x22fead(0x229)][_0x22fead(0x1fa)]('hidden')){const _0x4d487d=searchBar[_0x22fead(0x210)][_0x22fead(0x2b7)]()[_0x22fead(0x1d5)]();if(!window['allProducts']){loadProducts(_0x4d487d,currentCategoryFilter);return;}const _0x2c82b2=currentCategoryFilter===_0x22fead(0x2c1)?window[_0x22fead(0x214)]:window[_0x22fead(0x214)][_0x22fead(0x1c3)](_0x41a966=>_0x41a966[_0x22fead(0x291)]===currentCategoryFilter);if(!_0x4d487d){renderProducts(_0x2c82b2,productListContainer,noProductsMessage,![]);return;}const _0x593557=_0x4d487d[_0x22fead(0x21a)](/\s+/)[_0x22fead(0x1c3)](Boolean),_0x599e15=_0x2c82b2[_0x22fead(0x1c3)](_0x2925d8=>{const _0x43d0ff=_0x22fead,_0x407eea=[_0x2925d8[_0x43d0ff(0x1f5)]||'',_0x2925d8['description']||'',_0x2925d8[_0x43d0ff(0x291)]||''][_0x43d0ff(0x2c0)]('\x20')[_0x43d0ff(0x1d5)]();return _0x593557['some'](_0x8b98ea=>_0x407eea['includes'](_0x8b98ea));});_0x599e15[_0x22fead(0x1d8)]>0x0?(renderProducts(_0x599e15,productListContainer,noProductsMessage,![]),noProductsMessage['classList'][_0x22fead(0x2ba)]('hidden')):(productListContainer[_0x22fead(0x2b4)]='',noProductsMessage[_0x22fead(0x221)]=_0x22fead(0x1b5),noProductsMessage[_0x22fead(0x229)][_0x22fead(0x1e8)]('hidden'));}});function renderProducts(_0x3b5daa,_0x48b4eb,_0x3b932b,_0x319aea=![]){const _0x63d536=_0x1959ce;_0x48b4eb[_0x63d536(0x2b4)]='',_0x3b932b[_0x63d536(0x229)][_0x63d536(0x2ba)](_0x63d536(0x24d));if(!Array['isArray'](_0x3b5daa)||_0x3b5daa[_0x63d536(0x1d8)]===0x0){_0x3b932b[_0x63d536(0x229)][_0x63d536(0x1e8)]('hidden'),_0x3b932b[_0x63d536(0x221)]=_0x319aea?_0x63d536(0x29a):_0x63d536(0x205);return;}_0x3b5daa[_0x63d536(0x276)](_0x70f389=>{const _0x4aad04=_0x63d536,_0x12db4f=document[_0x4aad04(0x251)](_0x4aad04(0x206));_0x12db4f[_0x4aad04(0x2c6)]=_0x4aad04(0x271)+(_0x319aea?'':_0x4aad04(0x1a6)),_0x12db4f[_0x4aad04(0x278)](_0x4aad04(0x2c4),_0x70f389['id']);const _0x6b048=parseFloat(_0x70f389[_0x4aad04(0x2bb)])===0x0?_0x4aad04(0x230):'$'+parseFloat(_0x70f389['price'])[_0x4aad04(0x26e)](0x2);let _0x29b77a='';_0x319aea&&(_0x29b77a=_0x4aad04(0x2a3)+_0x70f389['fileUrl']+'\x22\x20target=\x22_blank\x22\x20download=\x22'+(_0x70f389[_0x4aad04(0x1f5)]||'')[_0x4aad04(0x236)](/\s/g,'-')+_0x4aad04(0x1b3)+_0x70f389['id']+_0x4aad04(0x281));_0x12db4f[_0x4aad04(0x2b4)]=_0x4aad04(0x1dd)+(_0x70f389['previewImageUrl']||_0x4aad04(0x1ec))+'\x22\x20alt=\x22'+_0x70f389['title']+_0x4aad04(0x1a7)+_0x70f389[_0x4aad04(0x1f5)]+_0x4aad04(0x1e6)+(_0x70f389[_0x4aad04(0x291)]||_0x4aad04(0x21f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20dark:text-gray-400\x20text-sm\x20flex-grow\x20mb-2\x20overflow-hidden\x20overflow-ellipsis\x20whitespace-nowrap\x22>'+_0x70f389[_0x4aad04(0x246)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-auto\x20flex\x20justify-between\x20items-center\x20pt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-blue-600\x22>'+_0x6b048+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29b77a+_0x4aad04(0x1b4),_0x48b4eb[_0x4aad04(0x1ee)](_0x12db4f);if(_0x319aea){const _0x428be8=_0x12db4f['querySelector']('.delist-product-btn');_0x428be8&&_0x428be8[_0x4aad04(0x26a)](_0x4aad04(0x2c3),_0x386cee=>{const _0x5e22bd=_0x4aad04;_0x386cee[_0x5e22bd(0x1cd)]();const _0x12f7e2=_0x428be8[_0x5e22bd(0x1c5)]('data-product-id');if(_0x12f7e2)deleteProduct(_0x12f7e2);});}else _0x12db4f[_0x4aad04(0x26a)](_0x4aad04(0x2c3),()=>{const _0x41c0fd=_0x4aad04,_0x1c4cb1=_0x12db4f[_0x41c0fd(0x1c5)](_0x41c0fd(0x2c4));_0x1c4cb1&&(history[_0x41c0fd(0x1b9)](null,'',_0x41c0fd(0x2a9)+_0x1c4cb1),showProductDetails(_0x1c4cb1));});});}async function deleteProduct(_0x32e3){const _0x2d0c02=_0x1959ce;showCustomConfirm(_0x2d0c02(0x282),async()=>{const _0x60a8c8=_0x2d0c02;try{await deleteDoc(doc(db,_0x60a8c8(0x284),_0x32e3)),showCustomAlert(_0x60a8c8(0x1d4)),await loadProducts('',currentCategoryFilter),await showDashboard();}catch(_0x12377a){console['error'](_0x60a8c8(0x1fd),_0x12377a),showCustomAlert(_0x60a8c8(0x255));}});}async function showProductDetails(_0x551294){const _0x1e37d7=_0x1959ce;showTab(_0x1e37d7(0x204)),productDetailsError['classList']['add']('hidden');try{const _0x52c132=await getDoc(doc(db,'products',_0x551294));if(!_0x52c132['exists']()){productDetailsError[_0x1e37d7(0x221)]=_0x1e37d7(0x2b3),productDetailsError[_0x1e37d7(0x229)]['remove'](_0x1e37d7(0x24d));return;}const _0x28b95a={'id':_0x52c132['id'],..._0x52c132[_0x1e37d7(0x1cc)]()};detailProductImage[_0x1e37d7(0x23c)]=_0x28b95a['previewImageUrl']||_0x1e37d7(0x2ae),detailProductImage[_0x1e37d7(0x229)][_0x1e37d7(0x1e8)](_0x1e37d7(0x292),'object-cover'),detailProductImage[_0x1e37d7(0x229)]['add'](_0x1e37d7(0x274),'max-h-[70vh]',_0x1e37d7(0x24a)),detailProductTitle['textContent']=_0x28b95a[_0x1e37d7(0x1f5)],detailProductDescription[_0x1e37d7(0x221)]=_0x28b95a[_0x1e37d7(0x246)];const _0x1ac7fb=parseFloat(_0x28b95a[_0x1e37d7(0x2bb)])===0x0?_0x1e37d7(0x230):'$'+parseFloat(_0x28b95a[_0x1e37d7(0x2bb)])['toFixed'](0x2);detailProductPrice[_0x1e37d7(0x221)]=_0x1ac7fb,detailActionButton[_0x1e37d7(0x2c6)]=_0x1e37d7(0x1c9),detailActionButton['disabled']=![],parseFloat(_0x28b95a['price'])>0x0?(detailActionButton[_0x1e37d7(0x2b6)]['display']=_0x1e37d7(0x1a9),paypalButtonContainer[_0x1e37d7(0x2b4)]='',typeof window[_0x1e37d7(0x22e)]!==_0x1e37d7(0x286)&&window[_0x1e37d7(0x22e)][_0x1e37d7(0x220)]?window['paypal']['Buttons']({'createOrder':function(_0x323287,_0x524ffb){const _0x309f3e=_0x1e37d7;return _0x524ffb[_0x309f3e(0x1f7)][_0x309f3e(0x25c)]({'purchase_units':[{'amount':{'value':_0x28b95a[_0x309f3e(0x2bb)][_0x309f3e(0x250)]()},'description':_0x28b95a[_0x309f3e(0x1f5)]}]});},'onApprove':async function(_0x212b24,_0x57cd76){const _0x351d21=_0x1e37d7;return _0x57cd76[_0x351d21(0x1f7)][_0x351d21(0x1d6)]()[_0x351d21(0x1e1)](async function(_0x247e6e){const _0x4d7f98=_0x351d21;showCustomAlert(_0x4d7f98(0x261)+_0x247e6e['payer'][_0x4d7f98(0x252)]['given_name']+'!'),paypalButtonContainer['innerHTML']='<a\x20href=\x22'+_0x28b95a[_0x4d7f98(0x228)]+_0x4d7f98(0x219),await handleProductPurchase(_0x28b95a),sendSaleEmail({'buyerName':_0x247e6e[_0x4d7f98(0x2cc)]&&_0x247e6e[_0x4d7f98(0x2cc)][_0x4d7f98(0x252)]&&_0x247e6e[_0x4d7f98(0x2cc)][_0x4d7f98(0x252)][_0x4d7f98(0x283)]?_0x247e6e[_0x4d7f98(0x2cc)][_0x4d7f98(0x252)][_0x4d7f98(0x283)]:_0x4d7f98(0x1de),'buyerEmail':_0x247e6e[_0x4d7f98(0x2cc)]&&_0x247e6e[_0x4d7f98(0x2cc)]['email_address']?_0x247e6e[_0x4d7f98(0x2cc)][_0x4d7f98(0x1c0)]:'Unknown','sellerPaypalEmail':_0x28b95a[_0x4d7f98(0x2ac)]||_0x4d7f98(0x2a0),'productTitle':_0x28b95a[_0x4d7f98(0x1f5)]||_0x4d7f98(0x1de),'amount':typeof _0x28b95a[_0x4d7f98(0x2bb)]!==_0x4d7f98(0x286)?_0x28b95a['price']:_0x4d7f98(0x1de)});});},'onError':function(_0x25410f){const _0x4e2fa9=_0x1e37d7;showCustomAlert(_0x4e2fa9(0x2bf)),console[_0x4e2fa9(0x25b)](_0x25410f);}})[_0x1e37d7(0x1aa)](_0x1e37d7(0x2b9)):paypalButtonContainer[_0x1e37d7(0x2b4)]=_0x1e37d7(0x2aa)):(detailActionButton[_0x1e37d7(0x2b6)][_0x1e37d7(0x1ad)]='',paypalButtonContainer[_0x1e37d7(0x2b4)]='',detailActionButton['textContent']=_0x1e37d7(0x20f),detailActionButton[_0x1e37d7(0x229)][_0x1e37d7(0x2ba)](_0x1e37d7(0x265),_0x1e37d7(0x2c8),_0x1e37d7(0x25f)),detailActionButton['onclick']=()=>{const _0x101db7=_0x1e37d7;window[_0x101db7(0x26b)](_0x28b95a[_0x101db7(0x228)],_0x101db7(0x21c));},detailActionButton[_0x1e37d7(0x278)](_0x1e37d7(0x22c),_0x1e37d7(0x1f6)+_0x28b95a[_0x1e37d7(0x1f5)]));}catch(_0x2bccb3){console[_0x1e37d7(0x25b)](_0x1e37d7(0x248),_0x2bccb3),productDetailsError[_0x1e37d7(0x221)]=_0x1e37d7(0x258),productDetailsError['classList'][_0x1e37d7(0x1e8)](_0x1e37d7(0x24d));}}function _0x3d9f(_0x21a5b7,_0x4382c4){const _0x59ea01=_0x59ea();return _0x3d9f=function(_0x3d9f97,_0x5a33ab){_0x3d9f97=_0x3d9f97-0x1a3;let _0xc9000e=_0x59ea01[_0x3d9f97];return _0xc9000e;},_0x3d9f(_0x21a5b7,_0x4382c4);}async function updateSellerBalance(_0x5b18a6){const _0x124fd5=_0x1959ce;try{const _0x32c419=await getDoc(doc(db,_0x124fd5(0x24f),_0x5b18a6));let _0x3491d3=0x0;_0x32c419['exists']()&&typeof _0x32c419['data']()['balance']===_0x124fd5(0x262)&&(_0x3491d3=_0x32c419[_0x124fd5(0x1cc)]()['balance']),sellerBalance[_0x124fd5(0x221)]='$'+_0x3491d3[_0x124fd5(0x26e)](0x2);}catch(_0x175657){sellerBalance[_0x124fd5(0x221)]=_0x124fd5(0x24c);}}let balanceUnsub=null;function watchSellerBalance(_0xc1d2b5){const _0x3007d8=_0x1959ce;if(balanceUnsub)balanceUnsub();balanceUnsub=onSnapshot(doc(db,_0x3007d8(0x24f),_0xc1d2b5),_0x1bedc4=>{const _0x54b563=_0x3007d8;let _0x1924fe=0x0;if(_0x1bedc4[_0x54b563(0x1ae)]()&&typeof _0x1bedc4[_0x54b563(0x1cc)]()[_0x54b563(0x270)]===_0x54b563(0x262))_0x1924fe=_0x1bedc4[_0x54b563(0x1cc)]()[_0x54b563(0x270)];sellerBalance['textContent']='$'+_0x1924fe['toFixed'](0x2);});}async function loadMyProducts(_0x28dc2a){const _0x1c0b26=_0x1959ce;myProductsContainer[_0x1c0b26(0x2b4)]='',noMyProductsMessage[_0x1c0b26(0x229)][_0x1c0b26(0x2ba)]('hidden');try{const _0x2b4190=query(collection(db,_0x1c0b26(0x284)),where(_0x1c0b26(0x288),'==',_0x28dc2a),orderBy(_0x1c0b26(0x2a6),_0x1c0b26(0x218))),_0x2492c4=await getDocs(_0x2b4190),_0x31818a=_0x2492c4[_0x1c0b26(0x247)][_0x1c0b26(0x25e)](_0x18f9f4=>({'id':_0x18f9f4['id'],..._0x18f9f4[_0x1c0b26(0x1cc)]()}));if(_0x31818a[_0x1c0b26(0x1d8)]===0x0){noMyProductsMessage['classList'][_0x1c0b26(0x1e8)](_0x1c0b26(0x24d));return;}renderProducts(_0x31818a,myProductsContainer,noMyProductsMessage,!![]);}catch(_0x40200c){console[_0x1c0b26(0x25b)](_0x1c0b26(0x1da),_0x40200c),myProductsContainer[_0x1c0b26(0x2b4)]=_0x1c0b26(0x235)+_0x40200c['message']+'</p>';}}function openEditProductModal(_0x1df3a2){const _0x575768=_0x1959ce;editProductIdInput[_0x575768(0x210)]=_0x1df3a2['id'],editTitleInput[_0x575768(0x210)]=_0x1df3a2[_0x575768(0x1f5)],editDescriptionInput[_0x575768(0x210)]=_0x1df3a2[_0x575768(0x246)],editPriceInput[_0x575768(0x210)]=_0x1df3a2[_0x575768(0x2bb)],editFileUrlInput[_0x575768(0x210)]=_0x1df3a2['fileUrl'],editProductModal[_0x575768(0x229)][_0x575768(0x1e8)]('hidden');}function closeEditProductModal(){const _0x42bfc4=_0x1959ce;editProductModal['classList']['add'](_0x42bfc4(0x24d));}editProductForm[_0x1959ce(0x294)]=async function(_0x2f0474){const _0xffe955=_0x1959ce;_0x2f0474[_0xffe955(0x2b8)]();const _0x30f115=editProductIdInput[_0xffe955(0x210)],_0x19ada5={'title':editTitleInput[_0xffe955(0x210)][_0xffe955(0x2b7)](),'description':editDescriptionInput[_0xffe955(0x210)][_0xffe955(0x2b7)](),'price':parseFloat(editPriceInput[_0xffe955(0x210)]),'fileUrl':editFileUrlInput[_0xffe955(0x210)][_0xffe955(0x2b7)]()};let _0x3121ae=[];const _0x2b76e0=collection(db,_0xffe955(0x284)),_0x4875e3=_0x19ada5[_0xffe955(0x1f5)][_0xffe955(0x1d5)](),_0x50835a=convertToGoogleDriveDirectDownload(_0x19ada5[_0xffe955(0x228)]),_0x2c5a6a=query(_0x2b76e0,where('title','==',_0x4875e3)),_0x32c5c6=await getDocs(_0x2c5a6a);if(!_0x32c5c6['empty']){const _0x460969=_0x32c5c6[_0xffe955(0x247)][_0xffe955(0x23a)](_0x32eb22=>_0x32eb22['id']!==_0x30f115);_0x460969&&_0x3121ae['push'](_0xffe955(0x1c1));}const _0x21761c=query(_0x2b76e0,where(_0xffe955(0x228),'==',_0x50835a)),_0x4b5520=await getDocs(_0x21761c);if(!_0x4b5520['empty']){const _0x49033a=_0x4b5520['docs'][_0xffe955(0x23a)](_0x205c32=>_0x205c32['id']!==_0x30f115);_0x49033a&&_0x3121ae[_0xffe955(0x1ac)]('Another\x20active\x20product\x20already\x20uses\x20this\x20download\x20link.\x20Please\x20use\x20a\x20unique\x20link.');}if(_0x3121ae[_0xffe955(0x1d8)]>0x0){showCustomAlert(_0x3121ae[_0xffe955(0x2c0)]('\x0a'));return;}try{await updateDoc(doc(db,'products',_0x30f115),_0x19ada5),closeEditProductModal(),auth[_0xffe955(0x2c7)]&&await loadMyProducts(auth[_0xffe955(0x2c7)][_0xffe955(0x201)]);}catch(_0x2e4aa5){showCustomAlert('Failed\x20to\x20update\x20product.');}},cancelEditBtn['onclick']=closeEditProductModal;async function showDashboard(){const _0x3b96bf=_0x1959ce;if(!auth[_0x3b96bf(0x2c7)])return;showTab('dashboard'),await updateSellerBalance(auth[_0x3b96bf(0x2c7)]['uid']),watchSellerBalance(auth[_0x3b96bf(0x2c7)][_0x3b96bf(0x201)]),await loadMyProducts(auth[_0x3b96bf(0x2c7)]['uid']);}async function incrementSellerBalance(_0x44d8ef,_0x5d8828){const _0x24f41a=_0x1959ce,_0x3e1c81=doc(db,_0x24f41a(0x24f),_0x44d8ef);await runTransaction(db,async _0x43ae3f=>{const _0x51b103=_0x24f41a,_0x261c7a=await _0x43ae3f['get'](_0x3e1c81);let _0x25d901=_0x5d8828;_0x261c7a['exists']()&&typeof _0x261c7a[_0x51b103(0x1cc)]()[_0x51b103(0x270)]===_0x51b103(0x262)&&(_0x25d901+=_0x261c7a['data']()['balance']),_0x43ae3f[_0x51b103(0x1eb)](_0x3e1c81,{'balance':_0x25d901},{'merge':!![]});});}async function handleProductPurchase(_0x273708){const _0x2c8019=_0x1959ce;if(!_0x273708||!_0x273708[_0x2c8019(0x288)]||!_0x273708[_0x2c8019(0x2bb)])return;await incrementSellerBalance(_0x273708[_0x2c8019(0x288)],parseFloat(_0x273708[_0x2c8019(0x2bb)]));}document[_0x1959ce(0x26a)](_0x1959ce(0x1fe),()=>{const _0x30c51e=_0x1959ce,_0x412c55=document['querySelector'](_0x30c51e(0x2b0));_0x412c55&&(_0x412c55['classList']['add'](_0x30c51e(0x211),'text-white',_0x30c51e(0x237)),_0x412c55['classList'][_0x30c51e(0x1e8)](_0x30c51e(0x22a),_0x30c51e(0x2bc),_0x30c51e(0x249),_0x30c51e(0x1fb),_0x30c51e(0x2cb)));loadProducts('',currentCategoryFilter),showTab('home'),enableSubmitButton();const _0x383a8d=new URLSearchParams(window[_0x30c51e(0x207)][_0x30c51e(0x272)]),_0x40499a=_0x383a8d[_0x30c51e(0x28a)]('product');_0x40499a&&showProductDetails(_0x40499a);});
